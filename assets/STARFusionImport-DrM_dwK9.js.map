{"version":3,"file":"STARFusionImport-DrM_dwK9.js","sources":["../../node_modules/@jbrowse/plugin-spreadsheet-view/esm/SpreadsheetView/importAdapters/STARFusionImport.js"],"sourcesContent":["import { isNumber } from './isNumber';\nimport { bufferToLines, parseStrand } from './util';\nfunction parseSTARFusionBreakpointString(str) {\n    const fields = str.split(':');\n    return {\n        refName: fields[0],\n        start: +fields[1],\n        end: +fields[1] + 1,\n        strand: parseStrand(fields[2]),\n    };\n}\nexport function parseSTARFusionBuffer(buffer) {\n    const lines = bufferToLines(buffer);\n    const columns = lines[0].slice(1).split('\\t');\n    return {\n        columns: columns.map(c => ({ name: c })),\n        rowSet: {\n            rows: lines.slice(1).map((line, rowNumber) => {\n                const cols = line.split('\\t');\n                const row = Object.fromEntries(columns.map((h, i) => [h, isNumber(cols[i]) ? +cols[i] : cols[i]]));\n                return {\n                    cellData: row,\n                    feature: {\n                        uniqueId: `sf-${rowNumber}`,\n                        ...parseSTARFusionBreakpointString(row.LeftBreakpoint),\n                        mate: parseSTARFusionBreakpointString(row.RightBreakpoint),\n                    },\n                };\n            }),\n        },\n    };\n}\n"],"names":["parseSTARFusionBreakpointString","str","fields","parseStrand","parseSTARFusionBuffer","buffer","lines","bufferToLines","columns","c","line","rowNumber","cols","row","h","i","isNumber"],"mappings":"yFAEA,SAASA,EAAgCC,EAAK,CAC1C,MAAMC,EAASD,EAAI,MAAM,GAAG,EAC5B,MAAO,CACH,QAASC,EAAO,CAAC,EACjB,MAAO,CAACA,EAAO,CAAC,EAChB,IAAK,CAACA,EAAO,CAAC,EAAI,EAClB,OAAQC,EAAYD,EAAO,CAAC,CAAC,CACrC,CACA,CACO,SAASE,EAAsBC,EAAQ,CAC1C,MAAMC,EAAQC,EAAcF,CAAM,EAC5BG,EAAUF,EAAM,CAAC,EAAE,MAAM,CAAC,EAAE,MAAM,GAAI,EAC5C,MAAO,CACH,QAASE,EAAQ,IAAIC,IAAM,CAAE,KAAMA,CAAC,EAAG,EACvC,OAAQ,CACJ,KAAMH,EAAM,MAAM,CAAC,EAAE,IAAI,CAACI,EAAMC,IAAc,CAC1C,MAAMC,EAAOF,EAAK,MAAM,GAAI,EACtBG,EAAM,OAAO,YAAYL,EAAQ,IAAI,CAACM,EAAGC,IAAM,CAACD,EAAGE,EAASJ,EAAKG,CAAC,CAAC,EAAI,CAACH,EAAKG,CAAC,EAAIH,EAAKG,CAAC,CAAC,CAAC,CAAC,EACjG,MAAO,CACH,SAAUF,EACV,QAAS,CACL,SAAU,MAAMF,CAAS,GACzB,GAAGX,EAAgCa,EAAI,cAAc,EACrD,KAAMb,EAAgCa,EAAI,eAAe,CACjF,CACA,CACY,CAAC,CACb,CACA,CACA","x_google_ignoreList":[0]}