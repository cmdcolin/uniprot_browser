import{H as Se,I as we,a as f,K as Te,bz as $,T as C,j as e,M as z,O as Ne,d8 as q,d9 as Ee,ac as ke,o as x,ak as Pe,f as Me,C as Ae,d1 as H,m as S,u as Z,ab as Le,d as v,an as Fe,ao as b,cX as Ie,c as Q,cj as O,ch as W,cJ as L,ci as Y,a$ as Re,B as V,P as ee,da as ze,d6 as He,y as N,db as Oe,F as Ue}from"./index-DRDIumvF.js";import{S as Ve}from"./SanitizedHTML-CUfbA-9G.js";import{A as ae,a as te,E as re}from"./ExpandMore-CaMz3Gw7.js";import{c as We}from"./_commonjs-dynamic-modules-TDtrdbi3.js";import{j as qe}from"./jexlStrings-Do37EooC.js";import{a as De}from"./ColorPicker-D_JqId1D.js";import{C as F,a as ne}from"./CardContent-tBh32fMz.js";import{L as D}from"./ListItem-RJllARow.js";import{M as se}from"./MenuItem-D5kXI1eL.js";import{A as oe}from"./AccordionDetails-BOde5Ozz.js";import"./Collapse-DUY0HwHW.js";import"./dividerClasses-rNTJcnQi.js";function Be(a){return we("MuiCardHeader",a)}const I=Se("MuiCardHeader",["root","avatar","action","content","title","subheader"]),Je=a=>{const{classes:t}=a;return Ne({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Be,t)},Ke=z("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(a,t)=>[{[`& .${I.title}`]:t.title},{[`& .${I.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),Xe=z("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),_e=z("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Ge=z("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${q.root}:where(& .${I.title})`]:{display:"block"},[`.${q.root}:where(& .${I.subheader})`]:{display:"block"}}),R=f.forwardRef(function(t,r){const o=Te({props:t,name:"MuiCardHeader"}),{action:n,avatar:l,component:c="div",disableTypography:u=!1,subheader:d,subheaderTypographyProps:w,title:y,titleTypographyProps:E,slots:k={},slotProps:P={},...m}=o,s={...o,component:c,disableTypography:u},i=Je(s),h={slots:k,slotProps:{title:E,subheader:w,...P}};let p=y;const[g,j]=$("title",{className:i.title,elementType:C,externalForwardedProps:h,ownerState:s,additionalProps:{variant:l?"body2":"h5",component:"span"}});p!=null&&p.type!==C&&!u&&(p=e.jsx(g,{...j,children:p}));let T=d;const[he,xe]=$("subheader",{className:i.subheader,elementType:C,externalForwardedProps:h,ownerState:s,additionalProps:{variant:l?"body2":"body1",color:"textSecondary",component:"span"}});T!=null&&T.type!==C&&!u&&(T=e.jsx(he,{...xe,children:T}));const[fe,ge]=$("root",{ref:r,className:i.root,elementType:Ke,externalForwardedProps:{...h,...m,component:c},ownerState:s}),[ve,je]=$("avatar",{className:i.avatar,elementType:Xe,externalForwardedProps:h,ownerState:s}),[be,ye]=$("content",{className:i.content,elementType:Ge,externalForwardedProps:h,ownerState:s}),[$e,Ce]=$("action",{className:i.action,elementType:_e,externalForwardedProps:h,ownerState:s});return e.jsxs(fe,{...ge,children:[l&&e.jsx(ve,{...je,children:l}),e.jsxs(be,{...ye,children:[p,T]}),n&&e.jsx($e,{...Ce,children:n})]})});var A={exports:{}},Ze=A.exports,B;function Qe(){return B||(B=1,function(a,t){(function(r,o){typeof We=="function"?a.exports=o():r.pluralize=o()})(Ze,function(){var r=[],o=[],n={},l={},c={};function u(s){return typeof s=="string"?new RegExp("^"+s+"$","i"):s}function d(s,i){return s===i?i:s===s.toLowerCase()?i.toLowerCase():s===s.toUpperCase()?i.toUpperCase():s[0]===s[0].toUpperCase()?i.charAt(0).toUpperCase()+i.substr(1).toLowerCase():i.toLowerCase()}function w(s,i){return s.replace(/\$(\d{1,2})/g,function(h,p){return i[p]||""})}function y(s,i){return s.replace(i[0],function(h,p){var g=w(i[1],arguments);return d(h===""?s[p-1]:h,g)})}function E(s,i,h){if(!s.length||n.hasOwnProperty(s))return i;for(var p=h.length;p--;){var g=h[p];if(g[0].test(i))return y(i,g)}return i}function k(s,i,h){return function(p){var g=p.toLowerCase();return i.hasOwnProperty(g)?d(p,g):s.hasOwnProperty(g)?d(p,s[g]):E(g,p,h)}}function P(s,i,h,p){return function(g){var j=g.toLowerCase();return i.hasOwnProperty(j)?!0:s.hasOwnProperty(j)?!1:E(j,j,h)===j}}function m(s,i,h){var p=i===1?m.singular(s):m.plural(s);return(h?i+" ":"")+p}return m.plural=k(c,l,r),m.isPlural=P(c,l,r),m.singular=k(l,c,o),m.isSingular=P(l,c,o),m.addPluralRule=function(s,i){r.push([u(s),i])},m.addSingularRule=function(s,i){o.push([u(s),i])},m.addUncountableRule=function(s){if(typeof s=="string"){n[s.toLowerCase()]=!0;return}m.addPluralRule(s,"$0"),m.addSingularRule(s,"$0")},m.addIrregularRule=function(s,i){i=i.toLowerCase(),s=s.toLowerCase(),c[s]=i,l[i]=s},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(s){return m.addIrregularRule(s[0],s[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(s){return m.addPluralRule(s[0],s[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(s){return m.addSingularRule(s[0],s[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(m.addUncountableRule),m})}(A)),A.exports}var J=Qe(),M=Ee();const Ye=ke(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),ea=x(function({slot:a}){return e.jsxs(Pe,{children:[e.jsx(Me,{label:a.name,control:e.jsx(Ae,{checked:a.value,onChange:t=>{a.set(t.target.checked)}})}),e.jsx(H,{children:a.description})]})}),K='Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',aa=S()(a=>({callbackEditor:{marginTop:"16px",borderBottom:`1px solid ${a.palette.divider}`,width:"100%",fontFamily:K},textAreaFont:{fontFamily:K},callbackContainer:{width:"100%",overflowX:"auto"},error:{color:"red",fontSize:"0.8em"}})),ta=x(function({slot:a}){const{classes:t}=aa(),[r,o]=f.useState(a.value),[n,l]=f.useState(),c=Z.useDebounce(r,400);return f.useEffect(()=>{var u;try{const d=c.startsWith("jexl:")?c:`jexl:${c}`;if(d==="jexl:")throw new Error("Empty jexl expression is not valid");qe.stringToJexlExpression(d,(u=Le(a).pluginManager)===null||u===void 0?void 0:u.jexl),a.set(d),l(void 0)}catch(d){console.error({e:d}),l(d)}},[c,a]),e.jsxs(e.Fragment,{children:[n?e.jsx("p",{className:t.error,children:`${n}`}):null,e.jsxs("div",{className:t.callbackContainer,children:[e.jsx(v,{multiline:!0,className:t.callbackEditor,value:r.startsWith("jexl:")?r.split("jexl:")[1]:r,onChange:u=>{o(u.target.value)},style:{background:n?"#fdd":void 0},slotProps:{input:{classes:{input:t.textAreaFont}}}}),e.jsx("p",{children:a.description}),e.jsx(Fe,{title:e.jsxs("div",{children:["Callbacks are written in Jexl format. Click to learn more.",e.jsx("br",{})," Names of available context items: ",a.contextVariable]}),arrow:!0,children:e.jsx(b,{color:"primary",onClick:()=>{const u=window.open("https://github.com/TomFrost/Jexl","_blank","noopener,noreferrer");u&&(u.opener=null)},children:e.jsx(Ie,{})})})]})]})}),ra=a=>{const{value:t="#000",label:r="",TextFieldProps:o={},onChange:n}=a,[l,c]=f.useState(!1);return e.jsxs("div",{style:{display:"flex"},children:[e.jsx(v,{value:t,label:r,onClick:()=>{c(!l)},onChange:u=>{n(u.target.value)},...o}),e.jsx("div",{style:{marginTop:10},children:e.jsx(f.Suspense,{fallback:null,children:e.jsx(De,{color:t,onChange:u=>{n(u)}})})})]})},na=x(function(a){const{slot:t}=a;return e.jsx(ra,{label:t.name,value:t.value,onChange:r=>{t.set(r)},TextFieldProps:{helperText:t.description,fullWidth:!0}})});function U(a){const{helperText:t}=a;return e.jsx(v,{...a,helperText:e.jsx(Q.SanitizedHTML,{html:t||""}),fullWidth:!0,slotProps:{formHelperText:{component:"div"}}})}const sa="12px",X='Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',oa=S()(a=>({error:{color:"red",fontSize:"0.8em"},callbackEditor:{fontFamily:X,fontSize:sa,background:a.palette.background.default,width:800,marginTop:"16px",border:"1px solid rgba(0,0,0,0.42)"},callbackContainer:{width:"100%",overflowX:"auto"},textAreaFont:{fontFamily:X}})),_=x(function({slot:t}){const{classes:r}=oa(),[o,n]=f.useState(JSON.stringify(t.value,null,2)),[l,c]=f.useState();return f.useEffect(()=>{try{c(void 0),t.set(JSON.parse(o))}catch(u){console.error({e:u}),c(u)}},[o,t]),e.jsxs(e.Fragment,{children:[l?e.jsx("p",{className:r.error,children:`${l}`}):null,e.jsxs("div",{className:r.callbackContainer,children:[e.jsx(O,{shrink:!0,htmlFor:"json-editor",children:t.name}),e.jsx(v,{id:"json-editor",className:r.callbackEditor,value:o,helperText:t.description,multiline:!0,onChange:u=>{n(u.target.value)},style:{background:l?"#fdd":void 0},slotProps:{input:{classes:{input:r.textAreaFont}}}})]})]})}),ie=x(function({slot:a}){const[t,r]=f.useState(a.value);return f.useEffect(()=>{var o;const n=Number.parseFloat(t);Number.isNaN(n)?(o=a.reset)===null||o===void 0||o.call(a):a.set(n)},[a,t]),e.jsx(U,{label:a.name,helperText:a.description,value:t,type:"number",onChange:o=>{r(o.target.value)}})}),ia=S()(a=>({card:{marginTop:a.spacing(1)}})),la=x(function({slot:a}){const{classes:t}=ia(),[r,o]=f.useState("");return e.jsxs(e.Fragment,{children:[e.jsx(O,{children:a.name}),[...a.value].map(([n,l])=>e.jsxs(F,{raised:!0,className:t.card,children:[e.jsx(R,{title:n,action:e.jsx(b,{onClick:()=>{a.remove(n)},children:e.jsx(W,{})})}),e.jsx(ne,{children:e.jsx(ie,{slot:{value:l,set:c=>{a.add(n,c)}}})})]},n)),e.jsx(F,{raised:!0,className:t.card,children:e.jsx(R,{disableTypography:!0,title:e.jsx(v,{fullWidth:!0,value:r,placeholder:"add new",onChange:n=>{o(n.target.value)},slotProps:{input:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(b,{disabled:r==="",onClick:()=>{a.add(r,0),o("")},children:e.jsx(Y,{})})})}}})})}),e.jsx(H,{children:a.description})]})}),le=x(function({slot:a}){const[t,r]=f.useState(""),[o,n]=f.useState(!1);return e.jsxs(e.Fragment,{children:[a.name?e.jsx(O,{children:a.name}):null,e.jsxs(Re,{disablePadding:!0,children:[a.value.map((l,c)=>e.jsx(D,{disableGutters:!0,children:e.jsx(v,{value:l,onChange:u=>{a.setAtIndex(c,u.target.value)},slotProps:{input:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(b,{onClick:()=>{a.removeAtIndex(c)},children:e.jsx(W,{})})})}}})},`${JSON.stringify(l)}-${c}`)),o?e.jsx(D,{disableGutters:!0,children:e.jsx(v,{value:t,placeholder:"add new",onChange:l=>{r(l.target.value)},slotProps:{input:{endAdornment:e.jsx(L,{position:"end",children:e.jsxs(e.Fragment,{children:[e.jsx(V,{color:"primary",variant:"contained",style:{margin:2},"data-testid":`stringArrayAdd-${a.name}`,onClick:()=>{n(!1),a.add(t),r("")},children:"OK"}),e.jsx(V,{color:"primary",variant:"contained",style:{margin:2},onClick:()=>{n(!1),r("")},children:"Cancel"})]})})}}})}):null,e.jsx(V,{color:"primary",variant:"contained",style:{margin:4},disabled:o,onClick:()=>{n(!0)},children:"Add item"})]}),e.jsx(H,{children:a.description})]})}),ca=S()(a=>({card:{marginTop:a.spacing(1)}})),ua=x(function({slot:a}){const{classes:t}=ca(),[r,o]=f.useState("");return e.jsxs(e.Fragment,{children:[e.jsx(O,{children:a.name}),[...a.value].map(([n,l])=>e.jsxs(F,{raised:!0,className:t.card,children:[e.jsx(R,{title:n,action:e.jsx(b,{onClick:()=>{a.remove(n)},children:e.jsx(W,{})})}),e.jsx(ne,{children:e.jsx(le,{slot:{name:a.name,value:l,description:`Values associated with entry ${n}`,setAtIndex:(c,u)=>{a.setAtKeyIndex(n,c,u)},removeAtIndex:c=>{a.removeAtKeyIndex(n,c)},add:c=>{a.addToKey(n,c)}}})})]},n)),e.jsx(F,{raised:!0,className:t.card,children:e.jsx(R,{disableTypography:!0,title:e.jsx(v,{fullWidth:!0,value:r,placeholder:"add new",onChange:n=>{o(n.target.value)},slotProps:{input:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(b,{disabled:r==="",onClick:()=>{a.add(r,[]),o("")},children:e.jsx(Y,{})})})}}})})}),e.jsx(H,{children:a.description})]})}),ce=S()(a=>({paper:{display:"flex",marginBottom:a.spacing(2),position:"relative"},paperContent:{width:"100%"},slotModeSwitch:{width:24,background:a.palette.secondary.light,display:"flex",justifyContent:"center",alignItems:"center"}})),ue=x(function({slot:a}){return e.jsx(U,{label:a.name,helperText:a.description,value:a.value,onChange:t=>{a.set(t.target.value)}})}),da=x(function({slot:a}){return e.jsx(v,{label:a.name,helperText:a.description,multiline:!0,value:a.value,onChange:t=>{a.set(t.target.value)}})}),pa=()=>e.jsx(He,{children:e.jsx("path",{d:"M20.41,3C21.8,5.71 22.35,8.84 22,12C21.8,15.16 20.7,18.29 18.83,21L17.3,20C18.91,17.57 19.85,14.8 20,12C20.34,9.2 19.89,6.43 18.7,4L20.41,3M5.17,3L6.7,4C5.09,6.43 4.15,9.2 4,12C3.66,14.8 4.12,17.57 5.3,20L3.61,21C2.21,18.29 1.65,15.17 2,12C2.2,8.84 3.3,5.71 5.17,3M12.08,10.68L14.4,7.45H16.93L13.15,12.45L15.35,17.37H13.09L11.71,14L9.28,17.33H6.76L10.66,12.21L8.53,7.45H10.8L12.08,10.68Z"})}),ma=x(function({slot:a}){const[t,r]=f.useState(a.value);return f.useEffect(()=>{const o=Number.parseInt(t,10);Number.isNaN(o)||a.set(o)},[a,t]),e.jsx(U,{label:a.name,helperText:a.description,value:t,type:"number",onChange:o=>{r(o.target.value)}})}),ha=x(function({slot:a,slotSchema:t}){const r=ze(M.getSubType(t)),o=M.getUnionSubTypes(M.getUnionSubTypes(M.getSubType(r.properties.value))[1]).map(n=>n.value);return e.jsx(U,{value:a.value,label:a.name,select:!0,helperText:a.description,onChange:n=>{a.set(n.target.value)},children:o.map(n=>e.jsx(se,{value:n,children:n},n))})}),xa=x(function({slot:a}){var t;return e.jsx(Q.FileSelector,{location:a.value,setLocation:r=>{a.set(r)},name:a.name,description:a.description,rootModel:(t=Z.getEnv(a).pluginManager)===null||t===void 0?void 0:t.rootModel})}),G={string:ue,text:da,fileLocation:xa,stringArray:le,stringArrayMap:ua,numberMap:la,number:ie,integer:ma,color:na,stringEnum:ha,boolean:ea,frozen:_,configRelationships:_},fa=x(function({slot:a,slotSchema:t}){const{classes:r}=ce(),{type:o}=a;let n=a.isCallback?ta:G[o];return n||(console.warn(`no slot editor defined for ${o}, editing as string`),n=ue),o in G||console.warn(`SlotEditor needs to implement ${o}`),e.jsxs(ee,{className:r.paper,children:[e.jsx("div",{className:r.paperContent,children:e.jsx(n,{slot:a,slotSchema:t})}),e.jsx("div",{className:r.slotModeSwitch,children:a.contextVariable.length?e.jsx(b,{onClick:()=>a.isCallback?a.convertToValue():a.convertToCallback(),title:`convert to ${a.isCallback?"regular value":"callback"}`,children:a.isCallback?e.jsx(pa,{}):e.jsx(Ye,{})}):null})]})}),ga=x(function({typeNameChoices:a,slot:t,slotName:r,onChange:o}){const{classes:n}=ce();return e.jsx(ee,{className:n.paper,children:e.jsx("div",{className:n.paperContent,children:e.jsx(v,{value:t.type,label:"Type",select:!0,helperText:`Type of ${r} to use`,fullWidth:!0,onChange:o,children:a.map(l=>e.jsx(se,{value:l,children:l},l))})})})}),de=S()(a=>({icon:{color:a.palette.tertiary.contrastText||"#fff"},expansionPanelDetails:{display:"block",padding:a.spacing(1)},accordion:{border:`1px solid ${a.palette.text.primary}`},noOverflow:{width:"100%",overflowX:"auto"}})),pe=x(function(a){const{classes:t}=de(),{slotName:r,slotSchema:o,schema:n,slot:l=n[r],path:c=[]}=a;if(N.isConfigurationSchemaType(o)){if(l.length)return l.map((d,w)=>{const y=d.type?`${J.singular(r)} ${d.type}`:`${J.singular(r)} ${w+1}`;return e.jsx(pe,{...a,slot:d,slotName:y},y)});const u=N.getTypeNamesFromExplicitlyTypedUnion(o);return e.jsxs(ae,{defaultExpanded:!0,className:t.accordion,children:[e.jsx(te,{expandIcon:e.jsx(re,{className:t.icon}),children:e.jsx(C,{children:[...c,r].join("➔")})}),e.jsxs(oe,{className:t.expansionPanelDetails,children:[u.length?e.jsx(ga,{typeNameChoices:u,slotName:r,slot:l,onChange:d=>{d.target.value!==l.type&&n.setSubschema(r,{type:d.target.value})}}):null,e.jsx(Ue,{className:t.noOverflow,children:e.jsx(me,{schema:l,path:[...c,r]})})]})]})}else return N.isConfigurationSlotType(o)?e.jsx(fa,{slot:l,slotSchema:o},r):null}),me=x(function({schema:a,path:t=[]}){const r=Oe(a).properties;return e.jsx(e.Fragment,{children:Object.entries(r).map(([o,n])=>e.jsx(pe,{slotName:o,slotSchema:n,path:t,schema:a},o))})}),Pa=x(function({model:a}){const{classes:t}=de(),{target:r}=a,o=N.readConfObject(r,"trackId"),n=N.readConfObject(r,"name");return e.jsxs(ae,{defaultExpanded:!0,className:t.accordion,children:[e.jsx(te,{expandIcon:e.jsx(re,{className:t.icon}),children:e.jsx(C,{children:e.jsx(Ve,{html:n??"Configuration"})})}),e.jsx(oe,{className:t.expansionPanelDetails,"data-testid":"configEditor",children:e.jsx(me,{schema:r})})]},o)});export{Pa as default};
//# sourceMappingURL=ConfigurationEditor-CEBWcJOv.js.map
