import{j as e,a1 as j,u as d,c4 as P,t as T}from"./index-DPMJgfAS.js";function k({model:t,height:s}){const{dynamicBlocks:n,offsetPx:a,interRegionPaddingWidth:i}=t;return e.jsx(e.Fragment,{children:n.contentBlocks.slice(1).map(o=>e.jsx("rect",{x:o.offsetPx-a-i,width:i,y:0,height:s,fill:"grey"},o.key))})}function $({start:t,end:s,bpPerPx:n,reversed:a=!1,major:i=!0,minor:o=!0,hideText:x=!1}){const c=P(t,s,n,i,o),h=j(),l=d.stripAlpha(h.palette.text.secondary);return e.jsxs(e.Fragment,{children:[c.map(r=>{const f=(a?s-r.base:r.base-t)/n;return e.jsx("line",{x1:f,x2:f,y1:0,y2:r.type==="major"?6:4,strokeWidth:1,stroke:l},`tick-${r.base}`)}),x?null:c.filter(r=>r.type==="major").map(r=>{const f=(a?s-r.base:r.base-t)/n;return e.jsx("text",{x:f-3,y:18,fontSize:11,fill:l,children:d.getTickDisplayStr(r.base+1,n)},`label-${r.base}`)})]})}function R({model:t,fontSize:s}){const{dynamicBlocks:{contentBlocks:n},offsetPx:a,bpPerPx:i}=t,o=n.length<5,x=j(),c=d.stripAlpha(x.palette.text.primary);return e.jsxs(e.Fragment,{children:[e.jsx(k,{model:t,height:30}),n.map(h=>{const{start:l,end:r,key:f,reversed:m,offsetPx:p,refName:u,widthPx:g}=h,y=p-a,S=`clip-${f}`;return e.jsxs("g",{children:[e.jsx("defs",{children:e.jsx("clipPath",{id:S,children:e.jsx("rect",{x:0,y:0,width:g,height:100})})}),e.jsx("g",{transform:`translate(${y} 0)`,children:e.jsxs("g",{clipPath:`url(#${S})`,children:[e.jsx("text",{x:4,y:s,fontSize:s,fill:c,children:u}),e.jsx("g",{transform:"translate(0 20)",children:e.jsx($,{hideText:!o,start:l,end:r,bpPerPx:i,reversed:m})})]})})]},f)})]})}function B({trackLabels:t,trackName:s,fontSize:n,trackLabelOffset:a,x:i}){const o=j(),x=d.stripAlpha(o.palette.text.primary),c=t==="overlay"?5:0,h=t==="offset"?5:0,l=d.coarseStripHTML(s);return t!=="none"?e.jsx("g",{children:t==="left"?e.jsx("text",{x:a-40,y:20,fill:x,fontSize:n,dominantBaseline:"hanging",textAnchor:"end",children:l}):e.jsx("text",{x:i+c,y:h,fill:x,fontSize:n,dominantBaseline:"hanging",children:l})}):null}function O({displayResults:t,model:s,textHeight:n,fontSize:a,trackLabels:i="offset",trackLabelOffset:o=0}){const x=d.getSession(s),c=i==="offset"?n:0;return e.jsx(e.Fragment,{children:t.reduce(({prevOffset:h,reactElements:l},{track:r,result:f})=>{const m=r.configuration,p=T.getTrackName(m,x),u=r.displays[0],g=Math.max(-s.offsetPx,0);return{prevOffset:h+u.height+c,reactElements:[...l,e.jsxs("g",{transform:`translate(0 ${h})`,children:[e.jsxs("g",{transform:`translate(${o} ${c})`,children:[e.jsx(k,{model:s,height:u.height}),f]}),e.jsx(B,{trackName:p,fontSize:a,trackLabels:i,trackLabelOffset:o,x:g})]},m.trackId)]}},{prevOffset:0,reactElements:[]}).reactElements})}function b(t,s,n){return d.sum(t.map(a=>a.displays[0].height+(["none","left"].includes(n)?0:s)))}export{R as S,O as a,b as t};
//# sourceMappingURL=util-SLDihjMb.js.map
