{"version":3,"file":"LinearComparativeView-BNMtRnb2.js","sources":["../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/LinearComparativeView/components/HeaderSearchBoxes.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/LinearComparativeView/components/Header.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/LinearComparativeView/components/LinearComparativeRenderArea.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/LinearComparativeView/components/RubberbandTooltip.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/LinearComparativeView/components/RubberbandSpan.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/LinearComparativeView/components/VerticalGuide.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/LinearComparativeView/components/util.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/LinearComparativeView/components/useRangeSelect.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/LinearComparativeView/components/Rubberband.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/LinearComparativeView/components/LinearComparativeView.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { getBpDisplayStr } from '@jbrowse/core/util';\nimport { SearchBox } from '@jbrowse/plugin-linear-genome-view';\nimport { Typography } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()(() => ({\n    bp: {\n        display: 'flex',\n        alignItems: 'center',\n        marginLeft: 10,\n    },\n    searchBox: {\n        display: 'flex',\n    },\n}));\nconst HeaderSearchBoxes = observer(function ({ view, }) {\n    const { classes } = useStyles();\n    const { assemblyDisplayNames, coarseTotalBp } = view;\n    return (_jsxs(\"span\", { className: classes.searchBox, children: [_jsx(SearchBox, { model: view, showHelp: false }), _jsxs(Typography, { variant: \"body2\", color: \"textSecondary\", className: classes.bp, children: [assemblyDisplayNames.join(','), \" \", getBpDisplayStr(coarseTotalBp)] })] }));\n});\nexport default HeaderSearchBoxes;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton';\nimport { TrackSelector as TrackSelectorIcon } from '@jbrowse/core/ui/Icons';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { FormGroup } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nimport HeaderSearchBoxes from './HeaderSearchBoxes';\nconst useStyles = makeStyles()({\n    inline: {\n        display: 'inline-flex',\n    },\n});\nconst Header = observer(function ({ model, }) {\n    const { classes } = useStyles();\n    const { views } = model;\n    const [showSearchBoxes, setShowSearchBoxes] = useState(views.length <= 3);\n    const [sideBySide, setSideBySide] = useState(views.length <= 3);\n    return (_jsxs(FormGroup, { row: true, children: [_jsx(CascadingMenuButton, { menuItems: [\n                    {\n                        label: 'Synteny track selectors',\n                        type: 'subMenu',\n                        subMenu: views.slice(0, -1).map((_, idx) => ({\n                            label: `Row ${idx + 1}->${idx + 2} (${views[idx].assemblyNames.join(',')}->${views[idx + 1].assemblyNames.join(',')})`,\n                            onClick: () => {\n                                model.activateTrackSelector(idx);\n                            },\n                        })),\n                    },\n                    {\n                        label: 'Row track selectors',\n                        type: 'subMenu',\n                        subMenu: views.map((view, idx) => ({\n                            label: `Row ${idx + 1} track selector (${view.assemblyNames.join(',')})`,\n                            onClick: () => view.activateTrackSelector(),\n                        })),\n                    },\n                ], children: _jsx(TrackSelectorIcon, {}) }), _jsx(CascadingMenuButton, { menuItems: [\n                    {\n                        label: 'Row view menus',\n                        type: 'subMenu',\n                        subMenu: views.map((view, idx) => ({\n                            label: `View ${idx + 1} Menu`,\n                            subMenu: view.menuItems(),\n                        })),\n                    },\n                    ...model.headerMenuItems(),\n                ], children: _jsx(MoreVertIcon, {}) }), _jsx(CascadingMenuButton, { menuItems: [\n                    {\n                        label: 'Show search boxes',\n                        type: 'checkbox',\n                        checked: showSearchBoxes,\n                        onClick: () => {\n                            setShowSearchBoxes(!showSearchBoxes);\n                        },\n                    },\n                    {\n                        label: 'Orientation - Side-by-side',\n                        type: 'radio',\n                        checked: sideBySide,\n                        onClick: () => {\n                            setSideBySide(!sideBySide);\n                        },\n                    },\n                    {\n                        label: 'Orientation - Vertical',\n                        type: 'radio',\n                        checked: !sideBySide,\n                        onClick: () => {\n                            setSideBySide(!sideBySide);\n                        },\n                    },\n                ], children: _jsx(SearchIcon, {}) }), showSearchBoxes ? (_jsx(\"span\", { className: sideBySide ? classes.inline : undefined, children: views.map(view => (_jsx(HeaderSearchBoxes, { view: view }, view.id))) })) : null] }));\n});\nexport default Header;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { getConf } from '@jbrowse/core/configuration';\nimport { ResizeHandle } from '@jbrowse/core/ui';\nimport { getEnv } from '@jbrowse/core/util';\nimport { observer } from 'mobx-react';\nimport { Fragment } from 'react/jsx-runtime';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    container: {\n        display: 'grid',\n    },\n    overlay: {\n        zIndex: 100,\n        gridArea: '1/1',\n    },\n    resizeHandle: {\n        height: 4,\n        background: '#ccc',\n    },\n});\nfunction View({ view }) {\n    const { pluginManager } = getEnv(view);\n    const { ReactComponent } = pluginManager.getViewType(view.type);\n    return _jsx(ReactComponent, { model: view });\n}\nconst LinearComparativeRenderArea = observer(function ({ model, }) {\n    const { classes } = useStyles();\n    const { views, levels } = model;\n    return (_jsx(\"div\", { className: classes.container, children: views.map((view, i) => (_jsxs(Fragment, { children: [i > 0 ? (_jsxs(_Fragment, { children: [_jsx(\"div\", { className: classes.container, children: _jsx(Overlays, { model: model, level: i - 1 }) }), _jsx(ResizeHandle, { onDrag: n => { var _a, _b; return (_a = levels[i - 1]) === null || _a === void 0 ? void 0 : _a.setHeight((((_b = levels[i - 1]) === null || _b === void 0 ? void 0 : _b.height) || 0) + n); }, className: classes.resizeHandle })] })) : null, _jsx(View, { view: view })] }, view.id))) }));\n});\nconst Overlays = observer(function ({ model, level, }) {\n    var _a;\n    const { classes } = useStyles();\n    return (_jsx(_Fragment, { children: (_a = model.levels[level]) === null || _a === void 0 ? void 0 : _a.tracks.map(track => {\n            const [display] = track.displays;\n            const { RenderingComponent } = display;\n            const trackId = getConf(track, 'trackId');\n            return RenderingComponent ? (_jsx(\"div\", { className: classes.overlay, style: {\n                    height: display.height,\n                    overflow: 'hidden',\n                }, children: _jsx(RenderingComponent, { model: display }) }, trackId)) : null;\n        }) }));\n});\nexport default LinearComparativeRenderArea;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Tooltip } from '@mui/material';\nexport default function RubberbandTooltip({ anchorEl, side, text, }) {\n    return (_jsx(Tooltip, { title: text, open: true, placement: side === 'left' ? 'left-start' : 'right-start', slotProps: {\n            popper: {\n                anchorEl,\n                modifiers: [\n                    {\n                        name: 'offset',\n                        options: {\n                            offset: [-30, -10],\n                        },\n                    },\n                ],\n            },\n        }, children: _jsx(\"span\", {}) }));\n}\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { getBpDisplayStr, stringify } from '@jbrowse/core/util';\nimport { Typography, alpha } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nimport RubberbandTooltip from './RubberbandTooltip';\nconst useStyles = makeStyles()(theme => {\n    const { tertiary } = theme.palette;\n    const background = alpha(tertiary.light, 0.7);\n    return {\n        rubberband: {\n            height: '100%',\n            background,\n            position: 'absolute',\n            zIndex: 830,\n            textAlign: 'center',\n        },\n        rubberbandText: {\n            color: theme.palette.tertiary.contrastText,\n        },\n    };\n});\nexport default function RubberbandSpan({ leftBpOffset, rightBpOffset, numOfBpSelected, left, width, top = 0, sticky = false, }) {\n    const { classes } = useStyles();\n    const [anchorEl, setAnchorEl] = useState(null);\n    return (_jsxs(_Fragment, { children: [anchorEl ? (_jsxs(_Fragment, { children: [_jsx(RubberbandTooltip, { side: \"left\", anchorEl: anchorEl, text: leftBpOffset.map((l, idx) => (_jsx(\"div\", { children: stringify(l, true) }, `JSON.stringify(l)-${idx}`))) }), _jsx(RubberbandTooltip, { side: \"right\", anchorEl: anchorEl, text: rightBpOffset.map((l, idx) => (_jsx(\"div\", { children: stringify(l, true) }, `JSON.stringify(l)-${idx}`))) })] })) : null, _jsx(\"div\", { className: classes.rubberband, style: { left, width }, children: numOfBpSelected ? (_jsx(Typography, { ref: el => {\n                        setAnchorEl(el);\n                    }, variant: \"h6\", className: classes.rubberbandText, style: {\n                        top,\n                        position: sticky ? 'sticky' : undefined,\n                    }, children: numOfBpSelected.map((n, i) => (_jsx(\"div\", { children: getBpDisplayStr(n) }, i))) })) : null })] }));\n}\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { stringify } from '@jbrowse/core/util';\nimport { Tooltip } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    guide: {\n        pointerEvents: 'none',\n        height: '100%',\n        width: 1,\n        position: 'absolute',\n        background: 'red',\n        zIndex: 1001,\n    },\n});\nconst VerticalGuide = observer(function ({ model, coordX, }) {\n    const { classes } = useStyles();\n    return (_jsx(Tooltip, { open: true, placement: \"top\", title: model.views\n            .map(view => view.pxToBp(coordX))\n            .map((elt, idx) => (_jsx(\"div\", { children: stringify(elt, true) }, [JSON.stringify(elt), idx].join('-')))), arrow: true, children: _jsx(\"div\", { className: classes.guide, style: {\n                left: coordX,\n            } }) }));\n});\nexport default VerticalGuide;\n","export function getRelativeX(event, element) {\n    return event.clientX - ((element === null || element === void 0 ? void 0 : element.getBoundingClientRect().left) || 0);\n}\n","import { useEffect, useState } from 'react';\nimport { transaction } from 'mobx';\nimport { getRelativeX } from './util';\nexport function useRangeSelect(ref, model) {\n    const [startX, setStartX] = useState();\n    const [currentX, setCurrentX] = useState();\n    const [anchorPosition, setAnchorPosition] = useState();\n    const [guideX, setGuideX] = useState();\n    const mouseDragging = startX !== undefined && anchorPosition === undefined;\n    useEffect(() => {\n        function computeOffsets(offsetX) {\n            if (startX === undefined) {\n                return;\n            }\n            const leftPx = Math.min(startX, offsetX);\n            const rightPx = Math.max(startX, offsetX);\n            return model.views.map(view => ({\n                leftOffset: view.pxToBp(leftPx),\n                rightOffset: view.pxToBp(rightPx),\n            }));\n        }\n        function globalMouseMove(event) {\n            if (ref.current && mouseDragging) {\n                const relativeX = getRelativeX(event, ref.current);\n                setCurrentX(relativeX);\n            }\n        }\n        function globalMouseUp(event) {\n            if (startX !== undefined && ref.current) {\n                const { clientX, clientY } = event;\n                const offsetX = getRelativeX(event, ref.current);\n                setAnchorPosition({\n                    offsetX,\n                    clientX,\n                    clientY,\n                });\n                const offsets = computeOffsets(offsetX);\n                if (offsets) {\n                    transaction(() => {\n                        for (const [idx, elt] of offsets.entries()) {\n                            model.views[idx].setOffsets(elt.leftOffset, elt.rightOffset);\n                        }\n                    });\n                }\n                setGuideX(undefined);\n            }\n        }\n        if (mouseDragging) {\n            window.addEventListener('mousemove', globalMouseMove);\n            window.addEventListener('mouseup', globalMouseUp);\n            return () => {\n                window.removeEventListener('mousemove', globalMouseMove);\n                window.removeEventListener('mouseup', globalMouseUp);\n            };\n        }\n        return () => { };\n    }, [startX, mouseDragging, model, ref]);\n    useEffect(() => {\n        if (!mouseDragging &&\n            currentX !== undefined &&\n            startX !== undefined &&\n            Math.abs(currentX - startX) <= 3) {\n            handleClose();\n        }\n    }, [mouseDragging, currentX, startX]);\n    function mouseDown(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        const relativeX = getRelativeX(event, ref.current);\n        setStartX(relativeX);\n        setCurrentX(relativeX);\n    }\n    function mouseMove(event) {\n        setGuideX(getRelativeX(event, ref.current));\n    }\n    function mouseOut() {\n        setGuideX(undefined);\n        transaction(() => {\n            for (const view of model.views) {\n                view.setOffsets(undefined, undefined);\n            }\n        });\n    }\n    function handleClose() {\n        setAnchorPosition(undefined);\n        setStartX(undefined);\n        setCurrentX(undefined);\n    }\n    function handleMenuItemClick(_, callback) {\n        callback();\n        handleClose();\n    }\n    const open = Boolean(anchorPosition);\n    if (startX === undefined) {\n        return {\n            open,\n            guideX,\n            mouseDown,\n            mouseMove,\n            mouseOut,\n            handleMenuItemClick,\n        };\n    }\n    const right = anchorPosition ? anchorPosition.offsetX : currentX || 0;\n    const left = Math.min(right, startX);\n    const width = Math.abs(right - startX);\n    const leftBpOffset = model.views.map(view => view.pxToBp(left));\n    const rightBpOffset = model.views.map(view => view.pxToBp(left + width));\n    const numOfBpSelected = model.views.map(view => Math.ceil(width * view.bpPerPx));\n    return {\n        open,\n        rubberbandOn: true,\n        mouseDown,\n        mouseMove,\n        mouseOut,\n        handleClose,\n        handleMenuItemClick,\n        leftBpOffset,\n        rightBpOffset,\n        anchorPosition,\n        numOfBpSelected,\n        width,\n        left,\n    };\n}\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useRef } from 'react';\nimport { Menu } from '@jbrowse/core/ui';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nimport RubberbandSpan from './RubberbandSpan';\nimport VerticalGuide from './VerticalGuide';\nimport { useRangeSelect } from './useRangeSelect';\nconst useStyles = makeStyles()({\n    rubberbandControl: {\n        cursor: 'crosshair',\n        width: '100%',\n        minHeight: 8,\n        position: 'relative',\n        zIndex: 900,\n    },\n});\nconst Rubberband = observer(function ({ model, ControlComponent = _jsx(\"div\", {}), }) {\n    const ref = useRef(null);\n    const { classes } = useStyles();\n    const { guideX, rubberbandOn, leftBpOffset, rightBpOffset, numOfBpSelected, width, left, anchorPosition, open, handleMenuItemClick, handleClose, mouseMove, mouseDown, mouseOut, } = useRangeSelect(ref, model);\n    return (_jsxs(_Fragment, { children: [guideX !== undefined ? (_jsx(VerticalGuide, { model: model, coordX: guideX })) : rubberbandOn ? (_jsx(RubberbandSpan, { leftBpOffset: leftBpOffset, rightBpOffset: rightBpOffset, numOfBpSelected: numOfBpSelected, width: width, left: left })) : null, anchorPosition ? (_jsx(Menu, { anchorReference: \"anchorPosition\", anchorPosition: {\n                    left: anchorPosition.clientX,\n                    top: anchorPosition.clientY,\n                }, onMenuItemClick: handleMenuItemClick, open: open, onClose: handleClose, menuItems: model.rubberBandMenuItems() })) : null, _jsx(\"div\", { \"data-testid\": \"rubberband_controls\", className: classes.rubberbandControl, ref: ref, onMouseDown: mouseDown, onMouseMove: mouseMove, onMouseOut: mouseOut, children: ControlComponent })] }));\n});\nexport default Rubberband;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nimport Header from './Header';\nimport LinearComparativeRenderArea from './LinearComparativeRenderArea';\nimport Rubberband from './Rubberband';\nconst useStyles = makeStyles()(theme => ({\n    rubberbandContainer: {\n        position: 'relative',\n        overflow: 'hidden',\n    },\n    rubberbandDiv: {\n        width: '100%',\n        background: theme.palette.action.disabledBackground,\n        height: 15,\n        '&:hover': {\n            background: theme.palette.action.selected,\n        },\n    },\n}));\nconst LinearComparativeView = observer(function ({ model, }) {\n    const { classes } = useStyles();\n    return (_jsxs(\"div\", { className: classes.rubberbandContainer, children: [_jsx(Header, { model: model }), _jsx(Rubberband, { model: model, ControlComponent: _jsx(\"div\", { className: classes.rubberbandDiv }) }), _jsx(LinearComparativeRenderArea, { model: model })] }));\n});\nexport default LinearComparativeView;\n"],"names":["useStyles","makeStyles","HeaderSearchBoxes","observer","view","classes","assemblyDisplayNames","coarseTotalBp","_jsxs","_jsx","SearchBox","Typography","getBpDisplayStr","Header","model","views","showSearchBoxes","setShowSearchBoxes","useState","sideBySide","setSideBySide","FormGroup","CascadingMenuButton","_","idx","TrackSelectorIcon","MoreVertIcon","SearchIcon","View","pluginManager","getEnv","ReactComponent","LinearComparativeRenderArea","levels","i","Fragment","_Fragment","Overlays","ResizeHandle","n","_a","_b","level","track","display","RenderingComponent","trackId","getConf","RubberbandTooltip","anchorEl","side","text","Tooltip","theme","tertiary","alpha","RubberbandSpan","leftBpOffset","rightBpOffset","numOfBpSelected","left","width","top","sticky","setAnchorEl","l","stringify","el","VerticalGuide","coordX","elt","getRelativeX","event","element","useRangeSelect","ref","startX","setStartX","currentX","setCurrentX","anchorPosition","setAnchorPosition","guideX","setGuideX","mouseDragging","useEffect","computeOffsets","offsetX","leftPx","rightPx","globalMouseMove","relativeX","globalMouseUp","clientX","clientY","offsets","transaction","handleClose","mouseDown","mouseMove","mouseOut","handleMenuItemClick","callback","open","right","Rubberband","ControlComponent","useRef","rubberbandOn","Menu","LinearComparativeView"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9]}