import{a9 as O,j as u,o as T,m as N,u as F,f as I,C as _,B as L,am as W,L as X,al as Y,cb as z}from"./index-DPMJgfAS.js";import{D as H}from"./DataGridFlexContainer-B8arD5BB.js";import{S as V}from"./Star-BYiOoKvl.js";import{D as R}from"./DataGrid-BbeQwLC2.js";import"./index-BHGTJiUw.js";import"./utils-DSyQ0Yxy.js";import"./getThemeProps-D2Hd2SEb.js";import"./MenuItem-BZgCoK98.js";import"./dividerClasses-CRpWzjDJ.js";import"./Divider-BsNHrm83.js";import"./Badge-HDwRQZRU.js";import"./TableCell-CTZZHzq1.js";const q=O(u.jsx("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"})),E=864e5,p=43200,k=1440,j=Symbol.for("constructDateFrom");function x(t,n){return typeof t=="function"?t(n):t&&typeof t=="object"&&j in t?t[j](n):t instanceof Date?new t.constructor(n):new Date(n)}function m(t,n){return x(t,t)}let J={};function B(){return J}function D(t){const n=m(t),e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+t-+e}function v(t,...n){const e=x.bind(null,t||n.find(r=>typeof r=="object"));return n.map(e)}function C(t,n){const e=m(t);return e.setHours(0,0,0,0),e}function Q(t,n,e){const[r,o]=v(e?.in,t,n),s=C(r),a=C(o),i=+s-D(s),c=+a-D(a);return Math.round((i-c)/E)}function w(t,n){const e=+m(t)-+m(n);return e<0?-1:e>0?1:e}function U(t){return x(t,Date.now())}function G(t,n,e){const[r,o]=v(e?.in,t,n),s=r.getFullYear()-o.getFullYear(),a=r.getMonth()-o.getMonth();return s*12+a}function $(t,n,e){const[r,o]=v(e?.in,t,n),s=A(r,o),a=Math.abs(Q(r,o));r.setDate(r.getDate()-s*a);const i=+(A(r,o)===-s),c=s*(a-i);return c===0?0:c}function A(t,n){const e=t.getFullYear()-n.getFullYear()||t.getMonth()-n.getMonth()||t.getDate()-n.getDate()||t.getHours()-n.getHours()||t.getMinutes()-n.getMinutes()||t.getSeconds()-n.getSeconds()||t.getMilliseconds()-n.getMilliseconds();return e<0?-1:e>0?1:e}function K(t){return n=>{const r=(t?Math[t]:Math.trunc)(n);return r===0?0:r}}function Z(t,n){return+m(t)-+m(n)}function tt(t,n){const e=m(t);return e.setHours(23,59,59,999),e}function et(t,n){const e=m(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function nt(t,n){const e=m(t);return+tt(e)==+et(e)}function at(t,n,e){const[r,o,s]=v(e?.in,t,t,n),a=w(o,s),i=Math.abs(G(o,s));if(i<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-a*i);let c=w(o,s)===-a;nt(r)&&i===1&&w(r,s)===1&&(c=!1);const l=a*(i-+c);return l===0?0:l}function ot(t,n,e){const r=Z(t,n)/1e3;return K(e?.roundingMethod)(r)}const rt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},it=(t,n,e)=>{let r;const o=rt[t];return typeof o=="string"?r=o:n===1?r=o.one:r=o.other.replace("{{count}}",n.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r};function P(t){return(n={})=>{const e=n.width?String(n.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const st={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ut={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ct={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dt={date:P({formats:st,defaultWidth:"full"}),time:P({formats:ut,defaultWidth:"full"}),dateTime:P({formats:ct,defaultWidth:"full"})},lt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mt=(t,n,e,r)=>lt[t];function b(t){return(n,e)=>{const r=e?.context?String(e.context):"standalone";let o;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,i=e?.width?String(e.width):a;o=t.formattingValues[i]||t.formattingValues[a]}else{const a=t.defaultWidth,i=e?.width?String(e.width):t.defaultWidth;o=t.values[i]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(n):n;return o[s]}}const ft={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ht={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vt=(t,n)=>{const e=Number(t),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},pt={ordinalNumber:vt,era:b({values:ft,defaultWidth:"wide"}),quarter:b({values:ht,defaultWidth:"wide",argumentCallback:t=>t-1}),month:b({values:gt,defaultWidth:"wide"}),day:b({values:yt,defaultWidth:"wide"}),dayPeriod:b({values:bt,defaultWidth:"wide",formattingValues:Mt,defaultFormattingWidth:"wide"})};function M(t){return(n,e={})=>{const r=e.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=n.match(o);if(!s)return null;const a=s[0],i=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(i)?Dt(i,y=>y.test(a)):wt(i,y=>y.test(a));let l;l=t.valueCallback?t.valueCallback(c):c,l=e.valueCallback?e.valueCallback(l):l;const f=n.slice(a.length);return{value:l,rest:f}}}function wt(t,n){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&n(t[e]))return e}function Dt(t,n){for(let e=0;e<t.length;e++)if(n(t[e]))return e}function St(t){return(n,e={})=>{const r=n.match(t.matchPattern);if(!r)return null;const o=r[0],s=n.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=e.valueCallback?e.valueCallback(a):a;const i=n.slice(o.length);return{value:a,rest:i}}}const Pt=/^(\d+)(th|st|nd|rd)?/i,xt=/\d+/i,Ft={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wt={any:[/^b/i,/^(a|c)/i]},kt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jt={any:[/1/i,/2/i,/3/i,/4/i]},Ct={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},At={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ot={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Tt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},It={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_t={ordinalNumber:St({matchPattern:Pt,parsePattern:xt,valueCallback:t=>parseInt(t,10)}),era:M({matchPatterns:Ft,defaultMatchWidth:"wide",parsePatterns:Wt,defaultParseWidth:"any"}),quarter:M({matchPatterns:kt,defaultMatchWidth:"wide",parsePatterns:jt,defaultParseWidth:"any",valueCallback:t=>t+1}),month:M({matchPatterns:Ct,defaultMatchWidth:"wide",parsePatterns:At,defaultParseWidth:"any"}),day:M({matchPatterns:Ot,defaultMatchWidth:"wide",parsePatterns:Tt,defaultParseWidth:"any"}),dayPeriod:M({matchPatterns:Nt,defaultMatchWidth:"any",parsePatterns:It,defaultParseWidth:"any"})},Lt={code:"en-US",formatDistance:it,formatLong:dt,formatRelative:mt,localize:pt,match:_t,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xt(t,n,e){const r=B(),o=e?.locale??r.locale??Lt,s=2520,a=w(t,n);if(isNaN(a))throw new RangeError("Invalid time value");const i=Object.assign({},e,{addSuffix:e?.addSuffix,comparison:a}),[c,l]=v(e?.in,...a>0?[n,t]:[t,n]),f=ot(l,c),y=(D(l)-D(c))/1e3,d=Math.round((f-y)/60);let g;if(d<2)return e?.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,i):f<10?o.formatDistance("lessThanXSeconds",10,i):f<20?o.formatDistance("lessThanXSeconds",20,i):f<40?o.formatDistance("halfAMinute",0,i):f<60?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",1,i):d===0?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",d,i);if(d<45)return o.formatDistance("xMinutes",d,i);if(d<90)return o.formatDistance("aboutXHours",1,i);if(d<k){const h=Math.round(d/60);return o.formatDistance("aboutXHours",h,i)}else{if(d<s)return o.formatDistance("xDays",1,i);if(d<p){const h=Math.round(d/k);return o.formatDistance("xDays",h,i)}else if(d<p*2)return g=Math.round(d/p),o.formatDistance("aboutXMonths",g,i)}if(g=at(l,c),g<12){const h=Math.round(d/p);return o.formatDistance("xMonths",h,i)}else{const h=g%12,S=Math.trunc(g/12);return h<3?o.formatDistance("aboutXYears",S,i):h<9?o.formatDistance("overXYears",S,i):o.formatDistance("almostXYears",S+1,i)}}function Yt(t,n){return Xt(t,U(t),n)}const zt=N()(t=>({mb:{margin:t.spacing(1),marginBottom:t.spacing(4)}})),Zt=T(function({session:t}){var n;const{classes:e}=zt(),[r,o]=F.useLocalStorage("sessionManager-showOnlyFavs",!1),s=(n=t.savedSessionMetadata)===null||n===void 0?void 0:n.map(a=>({id:a.id,name:a.name,createdAt:a.createdAt,fav:a.favorite})).filter(a=>r?a.fav:!0);return u.jsxs("div",{children:[u.jsxs("div",{className:e.mb,children:[u.jsx(I,{control:u.jsx(_,{checked:r,onChange:()=>{o(a=>!a)}}),label:"Show only favorites?"}),u.jsx(L,{variant:"contained",onClick:()=>{let a=0;if(t.savedSessionMetadata)for(const i of t.savedSessionMetadata)$(+Date.now(),i.createdAt)>1&&!i.favorite&&(t.deleteSavedSession(i.id),a++);t.notify(`${a} sessions deleted`,"info")},children:"Delete non-fav sessions older than 7 days?"})]}),s?u.jsx(H,{children:u.jsx(R,{disableRowSelectionOnClick:!0,columnHeaderHeight:35,rowHeight:25,hideFooter:s.length<100,slotProps:{toolbar:{showQuickFilter:!0}},rows:s,columns:[{field:"fav",headerName:"Fav",width:20,renderCell:({row:a})=>u.jsx(W,{onClick:()=>{a.fav?t.unfavoriteSavedSession(a.id):t.favoriteSavedSession(a.id)},children:a.fav?u.jsx(V,{}):u.jsx(q,{})})},{field:"name",headerName:"Name",editable:!0,width:F.measureGridWidth(s.map(a=>a.name)),renderCell:({row:a})=>u.jsxs(u.Fragment,{children:[u.jsx(X,{href:"#",onClick:i=>{i.preventDefault(),t.activateSession(a.id)},children:a.name}),t.id===a.id?" (current)":""]})},{headerName:"Created at",field:"createdAt",renderCell:({row:a})=>u.jsx(Y,{disableInteractive:!0,slotProps:{transition:{timeout:0}},title:a.createdAt.toLocaleString(),children:u.jsx("div",{children:Yt(a.createdAt,{addSuffix:!0})})})},{field:"delete",width:10,headerName:"Delete",renderCell:({row:a})=>u.jsx(W,{onClick:()=>{t.deleteSavedSession(a.id)},children:u.jsx(z,{})})}]})}):u.jsx("div",{children:"No sessions loaded"})]})});export{Zt as default};
//# sourceMappingURL=SessionManager-DuGSeu7q.js.map
