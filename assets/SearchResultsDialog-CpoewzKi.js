import{I as h,H as v,a as y,J as T,j as o,K as x,M as C,N as w,O as D,Q as N,u as j,P as L,B as E,cC as P,bn as A,bd as I,c as _,D as z,T as M,e as F}from"./index-B3kPj2Rj.js";import{T as G,a as R,b as f}from"./TableCell-AIVdwsWn.js";import{D as J}from"./Divider-DCzRIyLN.js";import"./dividerClasses-B-wJULXt.js";function K(e){return h("MuiTable",e)}v("MuiTable",["root","stickyHeader"]);const V=e=>{const{classes:t,stickyHeader:a}=e;return w({root:["root",a&&"stickyHeader"]},K,t)},W=x("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})(D(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),S="table",X=y.forwardRef(function(t,a){const s=T({props:t,name:"MuiTable"}),{className:r,component:n=S,padding:d="normal",size:l="medium",stickyHeader:i=!1,...g}=s,m={...s,component:n,padding:d,size:l,stickyHeader:i},c=V(m),p=y.useMemo(()=>({padding:d,size:l,stickyHeader:i}),[d,l,i]);return o.jsx(G.Provider,{value:p,children:o.jsx(W,{as:n,role:n===S?null:"table",ref:a,className:C(c.root,r),ownerState:m,...g})})});function q(e){return h("MuiTableBody",e)}v("MuiTableBody",["root"]);const Q=e=>{const{classes:t}=e;return w({root:["root"]},q,t)},Y=x("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),Z={variant:"body"},$="tbody",ee=y.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableBody"}),{className:r,component:n=$,...d}=s,l={...s,component:n},i=Q(l);return o.jsx(R.Provider,{value:Z,children:o.jsx(Y,{className:C(i.root,r),as:n,ref:a,role:n===$?null:"rowgroup",ownerState:l,...d})})});function oe(e){return h("MuiTableContainer",e)}v("MuiTableContainer",["root"]);const te=e=>{const{classes:t}=e;return w({root:["root"]},oe,t)},ae=x("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),se=y.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableContainer"}),{className:r,component:n="div",...d}=s,l={...s,component:n},i=te(l);return o.jsx(ae,{ref:a,as:n,className:C(i.root,r),ownerState:l,...d})});function ne(e){return h("MuiTableHead",e)}v("MuiTableHead",["root"]);const re=e=>{const{classes:t}=e;return w({root:["root"]},ne,t)},le=x("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),ie={variant:"head"},k="thead",ce=y.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableHead"}),{className:r,component:n=k,...d}=s,l={...s,component:n},i=re(l);return o.jsx(R.Provider,{value:ie,children:o.jsx(le,{as:n,className:C(i.root,r),ref:a,role:n===k?null:"rowgroup",ownerState:l,...d})})});function de(e){return h("MuiTableRow",e)}const H=v("MuiTableRow",["root","selected","hover","head","footer"]),pe=e=>{const{classes:t,selected:a,hover:s,head:r,footer:n}=e;return w({root:["root",a&&"selected",s&&"hover",r&&"head",n&&"footer"]},de,t)},ue=x("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})(D(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${H.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${H.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:N(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:N(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),U="tr",B=y.forwardRef(function(t,a){const s=T({props:t,name:"MuiTableRow"}),{className:r,component:n=U,hover:d=!1,selected:l=!1,...i}=s,g=y.useContext(R),m={...s,component:n,hover:d,selected:l,head:g&&g.variant==="head",footer:g&&g.variant==="footer"},c=pe(m);return o.jsx(ue,{as:n,ref:a,className:C(c.root,r),role:n===U?null:"row",ownerState:m,...i})});function be({searchResults:e,assemblyName:t,model:a,handleClose:s}){const r=j.getSession(a),{pluginManager:n}=j.getEnv(r),{assemblyManager:d}=r,l=t||a.displayedRegions[0].assemblyName,i=d.get(l);if(!i)throw new Error(`assembly ${l} not found`);if(!i.regions)throw new Error(`assembly ${l} regions not loaded`);function g(c){var p;if(c){const b=n.pluggableConfigSchemaType("track"),u=P(b,A(a),c);return((p=u?.name)===null||p===void 0?void 0:p.value)||""}return""}async function m(c){var p;if(c.hasLocation())await I({option:c,model:a,assemblyName:l});else{const b=c.getLabel(),u=(p=i?.regions)===null||p===void 0?void 0:p.find(O=>b===O.refName);u&&(a.setDisplayedRegions([u]),a.showAllRegions())}}return o.jsx(se,{component:L,children:o.jsxs(X,{children:[o.jsx(ce,{children:o.jsxs(B,{children:[o.jsx(f,{children:"Name"}),o.jsx(f,{align:"right",children:"Location"}),o.jsx(f,{align:"right",children:"Track"}),o.jsx(f,{align:"right"})]})}),o.jsx(ee,{children:e.map(c=>{const p=c.getLocation();let b;try{b=p?j.parseLocString(p,u=>i.isValidRefName(u)):void 0}catch{}return o.jsxs(B,{children:[o.jsx(f,{component:"th",scope:"row",children:c.getLabel()}),o.jsx(f,{align:"right",children:b?j.assembleLocString({...b,refName:i.getCanonicalRefName(b.refName)||b.refName}):p}),o.jsx(f,{align:"right",children:g(c.getTrackId())||"N/A"}),o.jsx(f,{align:"right",children:o.jsx(E,{onClick:async()=>{try{await m(c)}catch(u){console.error(u),r.notifyError(`${u}`,u)}s()},color:"primary",variant:"contained",children:"Go"})})]},c.getId())})})]})})}function he({model:e,assemblyName:t,searchQuery:a,searchResults:s,handleClose:r}){return o.jsxs(_.Dialog,{open:!0,maxWidth:"xl",onClose:r,title:"Search results",children:[o.jsx(z,{children:s?.length?o.jsxs(o.Fragment,{children:[o.jsxs(M,{children:["Showing results for ",o.jsx("b",{children:a})]}),o.jsx(be,{model:e,handleClose:r,assemblyName:t,searchResults:s})]}):o.jsxs(M,{children:["No results found for ",o.jsx("b",{children:a})]})}),o.jsx(J,{}),o.jsx(F,{children:o.jsx(E,{onClick:()=>{r()},color:"primary",children:"Cancel"})})]})}export{he as default};
//# sourceMappingURL=SearchResultsDialog-CpoewzKi.js.map
