import{I as y,H as v,a as h,J as T,j as e,K as x,M as C,N as w,O as B,u as j,P as L,B as D,cz as P,bm as A,bc as O,c as I,D as z,T as N,e as _}from"./index-DPMJgfAS.js";import{T as F,a as R,b as f}from"./TableCell-CTZZHzq1.js";import{D as G}from"./Divider-BsNHrm83.js";import"./dividerClasses-CRpWzjDJ.js";function J(o){return y("MuiTable",o)}v("MuiTable",["root","stickyHeader"]);const K=o=>{const{classes:t,stickyHeader:s}=o;return w({root:["root",s&&"stickyHeader"]},J,t)},V=x("table",{name:"MuiTable",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[t.root,s.stickyHeader&&t.stickyHeader]}})(B(({theme:o})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...o.typography.body2,padding:o.spacing(2),color:(o.vars||o).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),M="table",W=h.forwardRef(function(t,s){const a=T({props:t,name:"MuiTable"}),{className:r,component:n=M,padding:d="normal",size:l="medium",stickyHeader:i=!1,...g}=a,m={...a,component:n,padding:d,size:l,stickyHeader:i},c=K(m),u=h.useMemo(()=>({padding:d,size:l,stickyHeader:i}),[d,l,i]);return e.jsx(F.Provider,{value:u,children:e.jsx(V,{as:n,role:n===M?null:"table",ref:s,className:C(c.root,r),ownerState:m,...g})})});function X(o){return y("MuiTableBody",o)}v("MuiTableBody",["root"]);const q=o=>{const{classes:t}=o;return w({root:["root"]},X,t)},Y=x("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),Z={variant:"body"},S="tbody",Q=h.forwardRef(function(t,s){const a=T({props:t,name:"MuiTableBody"}),{className:r,component:n=S,...d}=a,l={...a,component:n},i=q(l);return e.jsx(R.Provider,{value:Z,children:e.jsx(Y,{className:C(i.root,r),as:n,ref:s,role:n===S?null:"rowgroup",ownerState:l,...d})})});function oo(o){return y("MuiTableContainer",o)}v("MuiTableContainer",["root"]);const eo=o=>{const{classes:t}=o;return w({root:["root"]},oo,t)},to=x("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),so=h.forwardRef(function(t,s){const a=T({props:t,name:"MuiTableContainer"}),{className:r,component:n="div",...d}=a,l={...a,component:n},i=eo(l);return e.jsx(to,{ref:s,as:n,className:C(i.root,r),ownerState:l,...d})});function ao(o){return y("MuiTableHead",o)}v("MuiTableHead",["root"]);const no=o=>{const{classes:t}=o;return w({root:["root"]},ao,t)},ro=x("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),lo={variant:"head"},k="thead",io=h.forwardRef(function(t,s){const a=T({props:t,name:"MuiTableHead"}),{className:r,component:n=k,...d}=a,l={...a,component:n},i=no(l);return e.jsx(R.Provider,{value:lo,children:e.jsx(ro,{as:n,className:C(i.root,r),ref:s,role:n===k?null:"rowgroup",ownerState:l,...d})})});function co(o){return y("MuiTableRow",o)}const H=v("MuiTableRow",["root","selected","hover","head","footer"]),uo=o=>{const{classes:t,selected:s,hover:a,head:r,footer:n}=o;return w({root:["root",s&&"selected",a&&"hover",r&&"head",n&&"footer"]},co,t)},po=x("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[t.root,s.head&&t.head,s.footer&&t.footer]}})(B(({theme:o})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${H.hover}:hover`]:{backgroundColor:(o.vars||o).palette.action.hover},[`&.${H.selected}`]:{backgroundColor:o.alpha((o.vars||o).palette.primary.main,(o.vars||o).palette.action.selectedOpacity),"&:hover":{backgroundColor:o.alpha((o.vars||o).palette.primary.main,`${(o.vars||o).palette.action.selectedOpacity} + ${(o.vars||o).palette.action.hoverOpacity}`)}}}))),$="tr",U=h.forwardRef(function(t,s){const a=T({props:t,name:"MuiTableRow"}),{className:r,component:n=$,hover:d=!1,selected:l=!1,...i}=a,g=h.useContext(R),m={...a,component:n,hover:d,selected:l,head:g&&g.variant==="head",footer:g&&g.variant==="footer"},c=uo(m);return e.jsx(po,{as:n,ref:s,className:C(c.root,r),role:n===$?null:"row",ownerState:m,...i})});function bo({searchResults:o,assemblyName:t,model:s,handleClose:a}){const r=j.getSession(s),{pluginManager:n}=j.getEnv(r),{assemblyManager:d}=r,l=t||s.displayedRegions[0].assemblyName,i=d.get(l);if(!i)throw new Error(`assembly ${l} not found`);if(!i.regions)throw new Error(`assembly ${l} regions not loaded`);function g(c){var u;if(c){const b=n.pluggableConfigSchemaType("track"),p=P(b,A(s),c);return((u=p?.name)===null||u===void 0?void 0:u.value)||""}return""}async function m(c){var u;if(c.hasLocation())await O({option:c,model:s,assemblyName:l});else{const b=c.getLabel(),p=(u=i?.regions)===null||u===void 0?void 0:u.find(E=>b===E.refName);p&&(s.setDisplayedRegions([p]),s.showAllRegions())}}return e.jsx(so,{component:L,children:e.jsxs(W,{children:[e.jsx(io,{children:e.jsxs(U,{children:[e.jsx(f,{children:"Name"}),e.jsx(f,{align:"right",children:"Location"}),e.jsx(f,{align:"right",children:"Track"}),e.jsx(f,{align:"right"})]})}),e.jsx(Q,{children:o.map(c=>{const u=c.getLocation();let b;try{b=u?j.parseLocString(u,p=>i.isValidRefName(p)):void 0}catch{}return e.jsxs(U,{children:[e.jsx(f,{component:"th",scope:"row",children:c.getLabel()}),e.jsx(f,{align:"right",children:b?j.assembleLocString({...b,refName:i.getCanonicalRefName(b.refName)||b.refName}):u}),e.jsx(f,{align:"right",children:g(c.getTrackId())||"N/A"}),e.jsx(f,{align:"right",children:e.jsx(D,{onClick:async()=>{try{await m(c)}catch(p){console.error(p),r.notifyError(`${p}`,p)}a()},color:"primary",variant:"contained",children:"Go"})})]},c.getId())})})]})})}function yo({model:o,assemblyName:t,searchQuery:s,searchResults:a,handleClose:r}){return e.jsxs(I.Dialog,{open:!0,maxWidth:"xl",onClose:r,title:"Search results",children:[e.jsx(z,{children:a?.length?e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:["Showing results for ",e.jsx("b",{children:s})]}),e.jsx(bo,{model:o,handleClose:r,assemblyName:t,searchResults:a})]}):e.jsxs(N,{children:["No results found for ",e.jsx("b",{children:s})]})}),e.jsx(G,{}),e.jsx(_,{children:e.jsx(D,{onClick:()=>{r()},color:"primary",children:"Cancel"})})]})}export{yo as default};
//# sourceMappingURL=SearchResultsDialog-BB6YGGIR.js.map
