import{u as j,a as n,j as e,c as m,D as T,f as E,C as L,T as p,e as z,B as g,i as k,d as D}from"./index-BXtJZUZx.js";import{M as F}from"./MenuItem-DOHbUxf-.js";import"./dividerClasses-F6oYoNIY.js";function w(){return e.jsxs("div",{children:[e.jsx(k,{size:20,style:{marginRight:20}}),e.jsx(p,{display:"inline",children:"Creating SVG"})]})}function h({children:a,...t}){return e.jsx("div",{children:e.jsx(D,{...t,children:a})})}function f(a,t){return j.useLocalStorage(`svg-${a}`,t)}function G({model:a,handleClose:t}){const r=j.getSession(a),i=typeof OffscreenCanvas<"u",[o,v]=n.useState(i),[y,l]=n.useState(!1),[c,u]=n.useState(),[d,C]=f("file","jbrowse.svg"),[x,b]=f("theme",r.themeName||"default");return e.jsxs(m.Dialog,{open:!0,onClose:t,title:"Export SVG",children:[e.jsxs(T,{children:[c?e.jsx(m.ErrorMessage,{error:c}):y?e.jsx(w,{}):null,e.jsx(h,{helperText:"filename",value:d,onChange:s=>{C(s.target.value)}}),r.allThemes?e.jsx(h,{select:!0,label:"Theme",value:x,onChange:s=>{b(s.target.value)},children:Object.entries(r.allThemes()).map(([s,S])=>e.jsx(F,{value:s,children:S.name||"(Unknown name)"},s))}):null,i?e.jsx(E,{control:e.jsx(L,{checked:o,onChange:()=>{v(s=>!s)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):e.jsx(p,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),e.jsxs(z,{children:[e.jsx(g,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"}),e.jsx(g,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{l(!0),u(void 0);try{await a.exportSvg({rasterizeLayers:o,filename:d,themeName:x}),t()}catch(s){console.error(s),u(s)}finally{l(!1)}},children:"Submit"})]})]})}export{G as default};
//# sourceMappingURL=ExportSvgDialog-D76wtprJ.js.map
