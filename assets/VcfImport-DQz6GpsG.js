import{V as w,a as P}from"./index-6ayqgJsu.js";import"./index-DPMJgfAS.js";import{i as l}from"./isNumber-CL2fNpTq.js";import{b as h}from"./util-B4Mu3MiR.js";function j(u){const a=h(u),O=a.filter(t=>t.startsWith("#")).join(`
`),F=a.filter(t=>!t.startsWith("#")),e=new w({header:O}),m=new Set,c=[];let f=0;for(const t of F){const[L,R,d,v,A,s,T,o,b,...E]=t.split("	"),I=Object.fromEntries(o?.split(";").map(r=>r.trim()).map(r=>{const[n,S="true"]=r.split("="),p=`INFO.${n.trim()}`;m.add(p);const i=S.trim();return[p,l(i)?+i:i]})||[]);c.push({cellData:{CHROM:L,POS:+R,ID:d,REF:v,ALT:A,QUAL:l(s)?+s:s,FILTER:T,FORMAT:b,...I,...Object.fromEntries(e.samples.map((r,n)=>[r,E[n]]))},feature:new P({parser:e,variant:e.parseLine(t),id:`vcf-${f}`}).toJSON()}),f++}return{columns:["CHROM","POS","ID","REF","ALT","QUAL","FILTER",...m,"FORMAT",...e.samples].map(t=>({name:t})),rowSet:{rows:c}}}export{j as parseVcfBuffer};
//# sourceMappingURL=VcfImport-DQz6GpsG.js.map
