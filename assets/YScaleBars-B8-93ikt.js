import{j as e,u as x,o as g,Y as v}from"./index-B3kPj2Rj.js";import{g as F}from"./util-DMCBSKLe.js";const f=t=>{const{color:n="rgb(255,255,255,0.8)"}=t;return e.jsx("rect",{...t,...x.getFillProps(n)})},y=function({source:t,idx:n,rowHeight:o,labelWidth:s,model:r,exportSVG:i}){const a=Math.min(20,o),{needsCustomLegend:l,graphType:d,needsFullHeightScalebar:h,rowHeightTooSmallForScalebar:j,renderColorBoxes:S}=r,m=Math.min(o,12),u=o>11,c=S?15:0,w=s+c+5,p=(i?10:0)||(d&&!j?50:0);return e.jsxs(e.Fragment,{children:[h?null:e.jsx(f,{y:n*o+1,x:p,width:w,height:a}),t.color?e.jsx(f,{y:n*o+1,x:p,width:c,height:l?o:a,color:t.color}):null,u?e.jsx("text",{y:n*o+13,x:p+c+2,fontSize:m,children:t.name}):null]})},b=g(function({model:t,rowHeight:n,exportSVG:o}){const{graphType:s,needsFullHeightScalebar:r,rowHeightTooSmallForScalebar:i,renderColorBoxes:a,sources:l,labelWidth:d}=t,j=d+(a?15:0)+5,m=(o?10:0)||(s&&!i?50:0);return l?e.jsxs(e.Fragment,{children:[r?e.jsx(f,{y:0,x:m,width:j,height:(l.length+.25)*n}):null,l.map((u,c)=>e.jsx(y,{source:u,idx:c,model:t,rowHeight:n,exportSVG:o,labelWidth:d},`${u.name}-${c}`))]}):null}),B=g(function({model:t,orientation:n,exportSVG:o}){const{labelWidth:s}=t,{width:r}=x.getContainingView(t);return e.jsxs(e.Fragment,{children:[e.jsx("g",{transform:`translate(${o?0:F(t)},0)`,children:e.jsx(v,{model:t,orientation:n})}),e.jsx("g",{transform:`translate(${r-s-100},0)`,children:e.jsx(b,{exportSVG:o,model:t,rowHeight:12})})]})}),W=g(({model:t})=>{const{ticks:n,scaleType:o}=t,{width:s}=x.getContainingView(t),r=`[${n?.values[0]}-${n?.values[1]}]${o==="log"?" (log scale)":""}`,i=x.measureText(r,14),l=s-i-25;return e.jsxs(e.Fragment,{children:[e.jsx(f,{y:0,x:l,width:i+6,height:16}),e.jsx("text",{y:13,x:l,children:r})]})}),$=g(function({model:t,orientation:n,exportSVG:o}){const{sources:s,rowHeight:r,rowHeightTooSmallForScalebar:i,needsCustomLegend:a,ticks:l}=t;return s?.length?e.jsxs(e.Fragment,{children:[e.jsx(b,{exportSVG:o,model:t,rowHeight:t.rowHeight}),i||a?e.jsx(W,{model:t}):s.map((d,h)=>e.jsx("g",{transform:`translate(0 ${r*h})`,children:e.jsx(v,{model:t,orientation:n})},`${JSON.stringify(l)}-${h}`))]}):null}),C=g(function({children:t,model:n,exportSVG:o}){const{height:s}=n;return o?t:e.jsx("svg",{style:{position:"absolute",top:0,left:0,pointerEvents:"none",height:s,width:x.getContainingView(n).width},children:t})}),H=g(function(t){const{model:n,orientation:o,exportSVG:s}=t,{showSidebar:r,stats:i,needsFullHeightScalebar:a,sources:l}=n;return i&&l?e.jsx(C,{...t,children:r?a?e.jsx(B,{model:n,orientation:o,exportSVG:s}):e.jsx($,{model:n,orientation:o,exportSVG:s}):null}):null});export{H as Y};
//# sourceMappingURL=YScaleBars-B8-93ikt.js.map
