{"version":3,"file":"SequenceSearchDialog-X49eefkM.js","sources":["../../node_modules/@jbrowse/plugin-linear-genome-view/esm/LinearGenomeView/components/SequenceSearchDialog.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { Dialog } from '@jbrowse/core/ui';\nimport { getSession, isSessionWithAddTracks } from '@jbrowse/core/util';\nimport { Button, Checkbox, DialogActions, DialogContent, FormControlLabel, FormGroup, TextField, Typography, } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { getSnapshot } from 'mobx-state-tree';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    dialogContent: {\n        width: '40em',\n    },\n});\nconst SequenceSearchDialog = observer(function ({ model, handleClose, }) {\n    const { classes } = useStyles();\n    const [value, setValue] = useState('');\n    const [searchForward, setSearchForward] = useState(true);\n    const [searchReverse, setSearchReverse] = useState(true);\n    const [caseInsensitive, setCaseInsensitive] = useState(true);\n    let error;\n    try {\n        new RegExp(value);\n    }\n    catch (e) {\n        error = e;\n    }\n    return (_jsxs(Dialog, { maxWidth: \"xl\", open: true, onClose: handleClose, title: \"Sequence search\", children: [_jsxs(DialogContent, { className: classes.dialogContent, children: [_jsx(Typography, { children: \"Supply a sequence to search for. A track will be created with the resulting matches once submitted. You can also supply regex style expressions e.g. AACT(C|T).\" }), _jsx(TextField, { value: value, onChange: e => {\n                            setValue(e.target.value);\n                        }, helperText: \"Sequence search pattern\" }), _jsxs(FormGroup, { children: [_jsx(FormControlLabel, { control: _jsx(Checkbox, { checked: searchForward, onChange: event => {\n                                        setSearchForward(event.target.checked);\n                                    } }), label: \"Search forward strand\" }), _jsx(FormControlLabel, { control: _jsx(Checkbox, { checked: searchReverse, onChange: event => {\n                                        setSearchReverse(event.target.checked);\n                                    } }), label: \"Search reverse strand\" }), _jsx(FormControlLabel, { control: _jsx(Checkbox, { checked: caseInsensitive, onChange: event => {\n                                        setCaseInsensitive(event.target.checked);\n                                    } }), label: \"Case insensitive\" })] }), error ? _jsx(Typography, { color: \"error\", children: `${error}` }) : null] }), _jsxs(DialogActions, { children: [_jsx(Button, { onClick: () => {\n                            var _a;\n                            if (value) {\n                                const trackId = `sequence_search_${+Date.now()}`;\n                                const session = getSession(model);\n                                const { assemblyManager } = session;\n                                const assemblyName = model.assemblyNames[0];\n                                if (isSessionWithAddTracks(session)) {\n                                    session.addTrackConf({\n                                        trackId,\n                                        name: `Sequence search ${value}`,\n                                        assemblyNames: [assemblyName],\n                                        type: 'FeatureTrack',\n                                        adapter: {\n                                            type: 'SequenceSearchAdapter',\n                                            search: value,\n                                            searchForward,\n                                            searchReverse,\n                                            caseInsensitive,\n                                            sequenceAdapter: getSnapshot((_a = assemblyManager.get(assemblyName)) === null || _a === void 0 ? void 0 : _a.configuration.sequence.adapter),\n                                        },\n                                    });\n                                    model.showTrack(trackId);\n                                }\n                            }\n                            handleClose();\n                        }, variant: \"contained\", color: \"primary\", children: \"Submit\" }), _jsx(Button, { onClick: () => {\n                            handleClose();\n                        }, variant: \"contained\", color: \"secondary\", children: \"Close\" })] })] }));\n});\nexport default SequenceSearchDialog;\n"],"names":["useStyles","makeStyles","SequenceSearchDialog","observer","model","handleClose","classes","value","setValue","useState","searchForward","setSearchForward","searchReverse","setSearchReverse","caseInsensitive","setCaseInsensitive","error","e","_jsxs","Dialog","DialogContent","_jsx","Typography","TextField","FormGroup","FormControlLabel","Checkbox","event","DialogActions","Button","_a","trackId","session","getSession","assemblyManager","assemblyName","isSessionWithAddTracks","getSnapshot"],"mappings":"qIAQA,MAAMA,EAAYC,EAAU,EAAG,CAC3B,cAAe,CACX,MAAO,MACf,CACA,CAAC,EACKC,EAAuBC,EAAS,SAAU,CAAE,MAAAC,EAAO,YAAAC,CAAW,EAAK,CACrE,KAAM,CAAE,QAAAC,CAAO,EAAKN,EAAS,EACvB,CAACO,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAAeC,CAAgB,EAAIF,EAAAA,SAAS,EAAI,EACjD,CAACG,EAAeC,CAAgB,EAAIJ,EAAAA,SAAS,EAAI,EACjD,CAACK,EAAiBC,CAAkB,EAAIN,EAAAA,SAAS,EAAI,EAC3D,IAAIO,EACJ,GAAI,CACA,IAAI,OAAOT,CAAK,CACpB,OACOU,EAAG,CACND,EAAQC,CACZ,CACA,OAAQC,EAAAA,KAAMC,EAAAA,OAAQ,CAAE,SAAU,KAAM,KAAM,GAAM,QAASd,EAAa,MAAO,kBAAmB,SAAU,CAACa,EAAAA,KAAME,EAAe,CAAE,UAAWd,EAAQ,cAAe,SAAU,CAACe,EAAAA,IAAKC,EAAY,CAAE,SAAU,iKAAiK,CAAE,EAAGD,EAAAA,IAAKE,EAAW,CAAE,MAAOhB,EAAO,SAAUU,GAAK,CAC7YT,EAASS,EAAE,OAAO,KAAK,CAC3B,EAAG,WAAY,yBAAyB,CAAE,EAAGC,EAAAA,KAAMM,EAAW,CAAE,SAAU,CAACH,EAAAA,IAAKI,EAAkB,CAAE,QAASJ,EAAAA,IAAKK,EAAU,CAAE,QAAShB,EAAe,SAAUiB,GAAS,CACzJhB,EAAiBgB,EAAM,OAAO,OAAO,CACzC,CAAC,CAAE,EAAG,MAAO,uBAAuB,CAAE,EAAGN,EAAAA,IAAKI,EAAkB,CAAE,QAASJ,EAAAA,IAAKK,EAAU,CAAE,QAASd,EAAe,SAAUe,GAAS,CACnId,EAAiBc,EAAM,OAAO,OAAO,CACzC,CAAC,CAAE,EAAG,MAAO,uBAAuB,CAAE,EAAGN,EAAAA,IAAKI,EAAkB,CAAE,QAASJ,EAAAA,IAAKK,EAAU,CAAE,QAASZ,EAAiB,SAAUa,GAAS,CACrIZ,EAAmBY,EAAM,OAAO,OAAO,CAC3C,CAAC,CAAE,EAAG,MAAO,kBAAkB,CAAE,CAAC,CAAC,CAAE,EAAGX,EAAQK,EAAAA,IAAKC,EAAY,CAAE,MAAO,QAAS,SAAU,GAAGN,CAAK,EAAE,CAAE,EAAI,IAAI,CAAC,CAAE,EAAGE,EAAAA,KAAMU,EAAe,CAAE,SAAU,CAACP,EAAAA,IAAKQ,EAAQ,CAAE,QAAS,IAAM,CAC/L,IAAIC,EACJ,GAAIvB,EAAO,CACP,MAAMwB,EAAU,mBAAmB,CAAC,KAAK,IAAG,CAAE,GACxCC,EAAUC,EAAAA,WAAW7B,CAAK,EAC1B,CAAE,gBAAA8B,CAAe,EAAKF,EACtBG,EAAe/B,EAAM,cAAc,CAAC,EACtCgC,EAAAA,uBAAuBJ,CAAO,IAC9BA,EAAQ,aAAa,CACjB,QAAAD,EACA,KAAM,mBAAmBxB,CAAK,GAC9B,cAAe,CAAC4B,CAAY,EAC5B,KAAM,eACN,QAAS,CACL,KAAM,wBACN,OAAQ5B,EACR,cAAAG,EACA,cAAAE,EACA,gBAAAE,EACA,gBAAiBuB,GAAaP,EAAKI,EAAgB,IAAIC,CAAY,KAAO,MAAQL,IAAO,OAAS,OAASA,EAAG,cAAc,SAAS,OAAO,CACxL,CACA,CAAqC,EACD1B,EAAM,UAAU2B,CAAO,EAE/B,CACA1B,EAAW,CACf,EAAG,QAAS,YAAa,MAAO,UAAW,SAAU,QAAQ,CAAE,EAAGgB,EAAAA,IAAKQ,EAAQ,CAAE,QAAS,IAAM,CAC5FxB,EAAW,CACf,EAAG,QAAS,YAAa,MAAO,YAAa,SAAU,QAAS,CAAC,EAAG,CAAC,EAAG,CAChG,CAAC","x_google_ignoreList":[0]}