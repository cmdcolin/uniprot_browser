import{u as L,ah as y}from"./index-B3kPj2Rj.js";import{p as b}from"./parseLineByLine-BfhM-OUE.js";import q from"./PAFAdapter-BW0bKgVa.js";import"./index-CWy9Wmpn.js";import"./rxjs-bJg6jVuh.js";import"./index-B6UxCU0Z.js";import"./util-BvfoyAKL.js";function A(c,e,l,p,u,a,i,r,s){return{qname:c,qstart:e,qend:l,tname:u,tstart:a,tend:i,strand:p==="-"?-1:1,extra:{numMatches:s,blockLen:Math.max(l-e,i-a),mappingQual:0,cg:r}}}function C(c,e){const{statusCallback:l=()=>{}}=e||{};let p="",u=0,a=0,i="",r="",s="",f=0,m=0,_=0,n="";const h=[];return b.parseLineByLine(c,d=>{if(!d||d.startsWith("#"))return!0;const t=d.split(/[ \t]+/);if(t[0]==="chain"){if(n&&h.push(A(i,f,m,s,p,u,a,n,_)),p=t[2],u=+t[5],a=+t[6],i=t[7],r=t[8],s=t[9],f=+t[10],m=+t[11],s==="-"){const o=f;f=+r-m,m=+r-o}_=0,n=""}else{const o=+t[0]||0,g=t.length>1?+t[1]:0,x=t.length>2?+t[2]:0;o!==0&&(_+=+o,n+=`${o}M`),x!==0&&(n+=`${x}I`),g!==0&&(n+=`${g}D`)}return!0},e?.statusCallback),l(""),h}class P extends q{async setupPre(e){return C(await L.fetchAndMaybeUnzip(y.openLocation(this.getConf("chainLocation"),this.pluginManager),e),e)}}export{P as default};
//# sourceMappingURL=ChainAdapter-DARXa8vU.js.map
