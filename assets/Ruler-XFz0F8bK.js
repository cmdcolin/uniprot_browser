import{o as x,j as r,u as i,a2 as f,a3 as b,m as j}from"./index-B3kPj2Rj.js";const y=j()({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}});function P(n,e,s,t){n.flipped&&([s,t]=[t,s]);const c=n.bpToXY(s,e),a=n.bpToXY(t,e),o=Math.abs(t-s)/n.bpPerRadian>Math.PI?"1":"0";return["M",...c,"A",e,e,"0",o,"1",...a].join(" ")}const A=x(function({model:n,slice:e,region:s}){const t=f(),{radiusPx:c}=n,a=c+1,{endRadians:o,startRadians:l}=e,m=i.polarToCartesian(a,l),g=i.polarToCartesian(a,o),u=(o-l)*a,d=o-l>Math.PI?"1":"0",h=(o+l)/2,p=`[${Number(s.regions.length).toLocaleString()}]`;return r.jsxs(r.Fragment,{children:[r.jsx(R,{text:p,view:n,maxWidthPx:u,radians:h,radiusPx:a,title:`${p} more regions`,color:t.palette.text.primary}),r.jsx("path",{d:["M",...m,"A",a,a,"0",d,"1",...g].join(" "),...i.getStrokeProps(t.palette.text.secondary),strokeWidth:2,strokeDasharray:"2,2",fill:"none"})]})}),R=x(function({view:n,text:e,maxWidthPx:s,radians:t,radiusPx:c,title:a,color:o}){const{classes:l}=y(),m=i.polarToCartesian(c+5,t);return e?e.length*6.5<s?r.jsxs("text",{x:0,y:0,className:l.rulerLabel,textAnchor:"middle",dominantBaseline:"baseline",transform:`translate(${m}) rotate(${i.radToDeg(t)+90})`,...i.getFillProps(o),children:[e,r.jsx("title",{children:a||e})]}):s>4?i.radToDeg(t+n.offsetRadians-Math.PI/2)>=180?r.jsxs("text",{x:0,y:0,className:l.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:`translate(${m}) rotate(${i.radToDeg(t)})`,fill:o,children:[e,r.jsx("title",{children:a||e})]}):r.jsxs("text",{x:0,y:0,className:l.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:`translate(${m}) rotate(${i.radToDeg(t)+180})`,fill:o,children:[e,r.jsx("title",{children:a||e})]}):null:null}),T=x(function({model:n,slice:e,region:s}){const t=f(),{radiusPx:c}=n,{endRadians:a,startRadians:o}=e,l=(a+o)/2,m=(a-o)*c,u=i.getSession(n).assemblyManager.get(s.assemblyName);let d=u?u.getRefNameColor(s.refName):void 0;if(d)try{d=b.makeContrasting(d,t.palette.background.paper)}catch{d=t.palette.text.primary}else d=t.palette.text.primary;return r.jsxs(r.Fragment,{children:[r.jsx(R,{text:s.refName,view:n,maxWidthPx:m,radians:l,radiusPx:c,color:d}),r.jsx("path",{d:P(e,c+1,s.start,s.end),stroke:d,strokeWidth:2,fill:"none"})]})}),k=x(function({model:n,slice:e}){return e.region.elided?r.jsx(A,{model:n,region:e.region,slice:e},i.assembleLocString(e.region.regions[0])):r.jsx(T,{region:e.region,model:n,slice:e},i.assembleLocString(e.region))});export{k as R};
//# sourceMappingURL=Ruler-XFz0F8bK.js.map
