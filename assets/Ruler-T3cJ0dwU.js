import{o as x,j as n,u as i,a1 as f,a2 as j,m as b}from"./index-DPMJgfAS.js";const y=b()({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}});function P(r,e,s,t){r.flipped&&([s,t]=[t,s]);const c=r.bpToXY(s,e),a=r.bpToXY(t,e),o=Math.abs(t-s)/r.bpPerRadian>Math.PI?"1":"0";return["M",...c,"A",e,e,"0",o,"1",...a].join(" ")}const A=x(function({model:r,slice:e,region:s}){const t=f(),{radiusPx:c}=r,a=c+1,{endRadians:o,startRadians:l}=e,m=i.polarToCartesian(a,l),g=i.polarToCartesian(a,o),u=(o-l)*a,d=o-l>Math.PI?"1":"0",h=(o+l)/2,p=`[${Number(s.regions.length).toLocaleString()}]`;return n.jsxs(n.Fragment,{children:[n.jsx(R,{text:p,view:r,maxWidthPx:u,radians:h,radiusPx:a,title:`${p} more regions`,color:t.palette.text.primary}),n.jsx("path",{d:["M",...m,"A",a,a,"0",d,"1",...g].join(" "),...i.getStrokeProps(t.palette.text.secondary),strokeWidth:2,strokeDasharray:"2,2",fill:"none"})]})}),R=x(function({view:r,text:e,maxWidthPx:s,radians:t,radiusPx:c,title:a,color:o}){const{classes:l}=y(),m=i.polarToCartesian(c+5,t);return e?e.length*6.5<s?n.jsxs("text",{x:0,y:0,className:l.rulerLabel,textAnchor:"middle",dominantBaseline:"middle",transform:`translate(${m}) rotate(${i.radToDeg(t)+90})`,...i.getFillProps(o),children:[e,n.jsx("title",{children:a||e})]}):s>4?i.radToDeg(t+r.offsetRadians-Math.PI/2)>=180?n.jsxs("text",{x:0,y:0,className:l.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:`translate(${m}) rotate(${i.radToDeg(t)})`,fill:o,children:[e,n.jsx("title",{children:a||e})]}):n.jsxs("text",{x:0,y:0,className:l.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:`translate(${m}) rotate(${i.radToDeg(t)+180})`,fill:o,children:[e,n.jsx("title",{children:a||e})]}):null:null}),T=x(function({model:r,slice:e,region:s}){const t=f(),{radiusPx:c}=r,{endRadians:a,startRadians:o}=e,l=(a+o)/2,m=(a-o)*c,u=i.getSession(r).assemblyManager.get(s.assemblyName);let d=u?u.getRefNameColor(s.refName):void 0;if(d)try{d=j.makeContrasting(d,t.palette.background.paper)}catch{d=t.palette.text.primary}else d=t.palette.text.primary;return n.jsxs(n.Fragment,{children:[n.jsx(R,{text:s.refName,view:r,maxWidthPx:m,radians:l,radiusPx:c,color:d}),n.jsx("path",{d:P(e,c+1,s.start,s.end),stroke:d,strokeWidth:2,fill:"none"})]})}),k=x(function({model:r,slice:e}){return e.region.elided?n.jsx(A,{model:r,region:e.region,slice:e},i.assembleLocString(e.region.regions[0])):n.jsx(T,{region:e.region,model:r,slice:e},i.assembleLocString(e.region))});export{k as R};
//# sourceMappingURL=Ruler-T3cJ0dwU.js.map
