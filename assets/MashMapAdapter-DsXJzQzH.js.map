{"version":3,"file":"MashMapAdapter-DsXJzQzH.js","sources":["../../node_modules/@jbrowse/plugin-comparative-adapters/esm/MashMapAdapter/MashMapAdapter.js"],"sourcesContent":["import { fetchAndMaybeUnzip } from '@jbrowse/core/util';\nimport { openLocation } from '@jbrowse/core/util/io';\nimport { parseLineByLine } from '@jbrowse/core/util/parseLineByLine';\nimport PAFAdapter from '../PAFAdapter/PAFAdapter';\nexport default class MashMapAdapter extends PAFAdapter {\n    async setupPre(opts) {\n        const lines = [];\n        parseLineByLine(await fetchAndMaybeUnzip(openLocation(this.getConf('outLocation'), this.pluginManager), opts), line => {\n            lines.push(parseMashMapLine(line));\n            return true;\n        }, opts === null || opts === void 0 ? void 0 : opts.statusCallback);\n        return lines;\n    }\n}\nfunction parseMashMapLine(line) {\n    const fields = line.split(' ');\n    if (fields.length < 9) {\n        throw new Error(`improperly formatted line: ${line}`);\n    }\n    const [qname, , qstart, qend, strand, tname, , tstart, tend, mq] = fields;\n    return {\n        tname: tname,\n        tstart: +tstart,\n        tend: +tend,\n        qname: qname,\n        qstart: +qstart,\n        qend: +qend,\n        strand: strand === '-' ? -1 : 1,\n        extra: {\n            mappingQual: +mq,\n        },\n    };\n}\n"],"names":["MashMapAdapter","PAFAdapter","opts","lines","parseLineByLine","fetchAndMaybeUnzip","openLocation","line","parseMashMapLine","fields","qname","qstart","qend","strand","tname","tstart","tend","mq"],"mappings":"wPAIe,MAAMA,UAAuBC,CAAW,CACnD,MAAM,SAASC,EAAM,CACjB,MAAMC,EAAQ,CAAA,EACdC,OAAAA,EAAAA,gBAAgB,MAAMC,EAAAA,mBAAmBC,EAAAA,aAAa,KAAK,QAAQ,aAAa,EAAG,KAAK,aAAa,EAAGJ,CAAI,EAAGK,IAC3GJ,EAAM,KAAKK,EAAiBD,CAAI,CAAC,EAC1B,IACoCL,GAAK,cAAc,EAC3DC,CACX,CACJ,CACA,SAASK,EAAiBD,EAAM,CAC5B,MAAME,EAASF,EAAK,MAAM,GAAG,EAC7B,GAAIE,EAAO,OAAS,EAChB,MAAM,IAAI,MAAM,8BAA8BF,CAAI,EAAE,EAExD,KAAM,CAACG,GAASC,EAAQC,EAAMC,EAAQC,EAAK,CAAIC,EAAQC,EAAMC,CAAE,EAAIR,EACnE,MAAO,CACH,MAAOK,EACP,OAAQ,CAACC,EACT,KAAM,CAACC,EACP,MAAON,EACP,OAAQ,CAACC,EACT,KAAM,CAACC,EACP,OAAQC,IAAW,IAAM,GAAK,EAC9B,MAAO,CACH,YAAa,CAACI,CAC1B,CACA,CACA","x_google_ignoreList":[0]}