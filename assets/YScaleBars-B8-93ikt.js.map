{"version":3,"file":"YScaleBars-B8-93ikt.js","sources":["../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/RectBg.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/LegendItem.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/ColorLegend.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/FullHeightScaleBar.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/ScoreLegend.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/IndividualScaleBars.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/YScaleBars.js"],"sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { getFillProps } from '@jbrowse/core/util';\nconst RectBg = (props) => {\n    const { color = 'rgb(255,255,255,0.8)' } = props;\n    return _jsx(\"rect\", { ...props, ...getFillProps(color) });\n};\nexport default RectBg;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport RectBg from './RectBg';\nconst LegendItem = function ({ source, idx, rowHeight, labelWidth, model, exportSVG, }) {\n    const boxHeight = Math.min(20, rowHeight);\n    const { needsCustomLegend, graphType, needsFullHeightScalebar, rowHeightTooSmallForScalebar, renderColorBoxes, } = model;\n    const svgFontSize = Math.min(rowHeight, 12);\n    const canDisplayLabel = rowHeight > 11;\n    const colorBoxWidth = renderColorBoxes ? 15 : 0;\n    const legendWidth = labelWidth + colorBoxWidth + 5;\n    const svgOffset = exportSVG ? 10 : 0;\n    const extraOffset = svgOffset || (graphType && !rowHeightTooSmallForScalebar ? 50 : 0);\n    return (_jsxs(_Fragment, { children: [needsFullHeightScalebar ? null : (_jsx(RectBg, { y: idx * rowHeight + 1, x: extraOffset, width: legendWidth, height: boxHeight })), source.color ? (_jsx(RectBg, { y: idx * rowHeight + 1, x: extraOffset, width: colorBoxWidth, height: needsCustomLegend ? rowHeight : boxHeight, color: source.color })) : null, canDisplayLabel ? (_jsx(\"text\", { y: idx * rowHeight + 13, x: extraOffset + colorBoxWidth + 2, fontSize: svgFontSize, children: source.name })) : null] }));\n};\nexport default LegendItem;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { observer } from 'mobx-react';\nimport LegendItem from './LegendItem';\nimport RectBg from './RectBg';\nconst ColorLegend = observer(function ({ model, rowHeight, exportSVG, }) {\n    const { graphType, needsFullHeightScalebar, rowHeightTooSmallForScalebar, renderColorBoxes, sources, labelWidth, } = model;\n    const colorBoxWidth = renderColorBoxes ? 15 : 0;\n    const legendWidth = labelWidth + colorBoxWidth + 5;\n    const svgOffset = exportSVG ? 10 : 0;\n    const extraOffset = svgOffset || (graphType && !rowHeightTooSmallForScalebar ? 50 : 0);\n    return sources ? (_jsxs(_Fragment, { children: [needsFullHeightScalebar ? (_jsx(RectBg, { y: 0, x: extraOffset, width: legendWidth, height: (sources.length + 0.25) * rowHeight })) : null, sources.map((source, idx) => (_jsx(LegendItem, { source: source, idx: idx, model: model, rowHeight: rowHeight, exportSVG: exportSVG, labelWidth: labelWidth }, `${source.name}-${idx}`)))] })) : null;\n});\nexport default ColorLegend;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { getContainingView } from '@jbrowse/core/util';\nimport { observer } from 'mobx-react';\nimport ColorLegend from './ColorLegend';\nimport { getOffset } from './util';\nimport YScaleBar from '../../shared/YScaleBar';\nconst FullHeightScaleBar = observer(function ({ model, orientation, exportSVG, }) {\n    const { labelWidth } = model;\n    const { width: viewWidth } = getContainingView(model);\n    return (_jsxs(_Fragment, { children: [_jsx(\"g\", { transform: `translate(${!exportSVG ? getOffset(model) : 0},0)`, children: _jsx(YScaleBar, { model: model, orientation: orientation }) }), _jsx(\"g\", { transform: `translate(${viewWidth - labelWidth - 100},0)`, children: _jsx(ColorLegend, { exportSVG: exportSVG, model: model, rowHeight: 12 }) })] }));\n});\nexport default FullHeightScaleBar;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { getContainingView, measureText } from '@jbrowse/core/util';\nimport { observer } from 'mobx-react';\nimport RectBg from './RectBg';\nconst ScoreLegend = observer(({ model }) => {\n    const { ticks, scaleType } = model;\n    const { width } = getContainingView(model);\n    const legend = `[${ticks === null || ticks === void 0 ? void 0 : ticks.values[0]}-${ticks === null || ticks === void 0 ? void 0 : ticks.values[1]}]${scaleType === 'log' ? ' (log scale)' : ''}`;\n    const len = measureText(legend, 14);\n    const padding = 25;\n    const xpos = width - len - padding;\n    return (_jsxs(_Fragment, { children: [_jsx(RectBg, { y: 0, x: xpos, width: len + 6, height: 16 }), _jsx(\"text\", { y: 13, x: xpos, children: legend })] }));\n});\nexport default ScoreLegend;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { observer } from 'mobx-react';\nimport ColorLegend from './ColorLegend';\nimport ScoreLegend from './ScoreLegend';\nimport YScaleBar from '../../shared/YScaleBar';\nconst IndividualScaleBars = observer(function ({ model, orientation, exportSVG, }) {\n    const { sources, rowHeight, rowHeightTooSmallForScalebar, needsCustomLegend, ticks, } = model;\n    return (sources === null || sources === void 0 ? void 0 : sources.length) ? (_jsxs(_Fragment, { children: [_jsx(ColorLegend, { exportSVG: exportSVG, model: model, rowHeight: model.rowHeight }), rowHeightTooSmallForScalebar || needsCustomLegend ? (_jsx(ScoreLegend, { model: model })) : (sources.map((_source, idx) => (_jsx(\"g\", { transform: `translate(0 ${rowHeight * idx})`, children: _jsx(YScaleBar, { model: model, orientation: orientation }) }, `${JSON.stringify(ticks)}-${idx}`))))] })) : null;\n});\nexport default IndividualScaleBars;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { getContainingView } from '@jbrowse/core/util';\nimport { observer } from 'mobx-react';\nimport FullHeightScaleBar from './FullHeightScaleBar';\nimport IndividualScaleBars from './IndividualScaleBars';\nconst Wrapper = observer(function ({ children, model, exportSVG, }) {\n    const { height } = model;\n    return exportSVG ? (children) : (_jsx(\"svg\", { style: {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            pointerEvents: 'none',\n            height,\n            width: getContainingView(model).width,\n        }, children: children }));\n});\nexport const YScaleBars = observer(function (props) {\n    const { model, orientation, exportSVG } = props;\n    const { showSidebar, stats, needsFullHeightScalebar, sources } = model;\n    return stats && sources ? (_jsx(Wrapper, { ...props, children: showSidebar ? (needsFullHeightScalebar ? (_jsx(FullHeightScaleBar, { model: model, orientation: orientation, exportSVG: exportSVG })) : (_jsx(IndividualScaleBars, { model: model, orientation: orientation, exportSVG: exportSVG }))) : null })) : null;\n});\nexport default YScaleBars;\n"],"names":["RectBg","props","color","_jsx","getFillProps","LegendItem","source","idx","rowHeight","labelWidth","model","exportSVG","boxHeight","needsCustomLegend","graphType","needsFullHeightScalebar","rowHeightTooSmallForScalebar","renderColorBoxes","svgFontSize","canDisplayLabel","colorBoxWidth","legendWidth","extraOffset","_jsxs","_Fragment","ColorLegend","observer","sources","FullHeightScaleBar","orientation","viewWidth","getContainingView","getOffset","YScaleBar","ScoreLegend","ticks","scaleType","width","legend","len","measureText","xpos","IndividualScaleBars","_source","Wrapper","children","height","YScaleBars","showSidebar","stats"],"mappings":"oGAEA,MAAMA,EAAUC,GAAU,CACtB,KAAM,CAAE,MAAAC,EAAQ,sBAAsB,EAAKD,EAC3C,OAAOE,EAAAA,IAAK,OAAQ,CAAE,GAAGF,EAAO,GAAGG,EAAAA,aAAaF,CAAK,EAAG,CAC5D,ECHMG,EAAa,SAAU,CAAE,OAAAC,EAAQ,IAAAC,EAAK,UAAAC,EAAW,WAAAC,EAAY,MAAAC,EAAO,UAAAC,GAAc,CACpF,MAAMC,EAAY,KAAK,IAAI,GAAIJ,CAAS,EAClC,CAAE,kBAAAK,EAAmB,UAAAC,EAAW,wBAAAC,EAAyB,6BAAAC,EAA8B,iBAAAC,CAAgB,EAAMP,EAC7GQ,EAAc,KAAK,IAAIV,EAAW,EAAE,EACpCW,EAAkBX,EAAY,GAC9BY,EAAgBH,EAAmB,GAAK,EACxCI,EAAcZ,EAAaW,EAAgB,EAE3CE,GADYX,EAAY,GAAK,KACDG,GAAa,CAACE,EAA+B,GAAK,GACpF,OAAQO,EAAAA,KAAMC,EAAAA,SAAW,CAAE,SAAU,CAACT,EAA0B,KAAQZ,EAAAA,IAAKH,EAAQ,CAAE,EAAGO,EAAMC,EAAY,EAAG,EAAGc,EAAa,MAAOD,EAAa,OAAQT,CAAS,CAAE,EAAIN,EAAO,MAASH,EAAAA,IAAKH,EAAQ,CAAE,EAAGO,EAAMC,EAAY,EAAG,EAAGc,EAAa,MAAOF,EAAe,OAAQP,EAAoBL,EAAYI,EAAW,MAAON,EAAO,KAAK,CAAE,EAAK,KAAMa,EAAmBhB,EAAAA,IAAK,OAAQ,CAAE,EAAGI,EAAMC,EAAY,GAAI,EAAGc,EAAcF,EAAgB,EAAG,SAAUF,EAAa,SAAUZ,EAAO,IAAI,CAAE,EAAK,IAAI,CAAC,CAAE,CACvf,ECRMmB,EAAcC,EAAS,SAAU,CAAE,MAAAhB,EAAO,UAAAF,EAAW,UAAAG,CAAS,EAAK,CACrE,KAAM,CAAE,UAAAG,EAAW,wBAAAC,EAAyB,6BAAAC,EAA8B,iBAAAC,EAAkB,QAAAU,EAAS,WAAAlB,CAAU,EAAMC,EAE/GW,EAAcZ,GADEQ,EAAmB,GAAK,GACG,EAE3CK,GADYX,EAAY,GAAK,KACDG,GAAa,CAACE,EAA+B,GAAK,GACpF,OAAOW,EAAWJ,EAAAA,KAAMC,EAAAA,SAAW,CAAE,SAAU,CAACT,EAA2BZ,EAAAA,IAAKH,EAAQ,CAAE,EAAG,EAAG,EAAGsB,EAAa,MAAOD,EAAa,QAASM,EAAQ,OAAS,KAAQnB,CAAS,CAAE,EAAK,KAAMmB,EAAQ,IAAI,CAACrB,EAAQC,IAASJ,MAAKE,EAAY,CAAE,OAAQC,EAAQ,IAAKC,EAAK,MAAOG,EAAO,UAAWF,EAAW,UAAWG,EAAW,WAAYF,CAAU,EAAI,GAAGH,EAAO,IAAI,IAAIC,CAAG,EAAE,CAAE,CAAC,CAAC,CAAE,EAAK,IACjY,CAAC,ECLKqB,EAAqBF,EAAS,SAAU,CAAE,MAAAhB,EAAO,YAAAmB,EAAa,UAAAlB,CAAS,EAAK,CAC9E,KAAM,CAAE,WAAAF,CAAU,EAAKC,EACjB,CAAE,MAAOoB,GAAcC,EAAAA,kBAAkBrB,CAAK,EACpD,OAAQa,OAAMC,EAAAA,SAAW,CAAE,SAAU,CAACrB,EAAAA,IAAK,IAAK,CAAE,UAAW,aAAcQ,EAA+B,EAAnBqB,EAAUtB,CAAK,CAAK,MAAO,SAAUP,MAAK8B,EAAW,CAAE,MAAOvB,EAAO,YAAamB,CAAW,CAAE,CAAC,CAAE,EAAG1B,EAAAA,IAAK,IAAK,CAAE,UAAW,aAAa2B,EAAYrB,EAAa,GAAG,MAAO,SAAUN,EAAAA,IAAKsB,EAAa,CAAE,UAAWd,EAAW,MAAOD,EAAO,UAAW,EAAE,CAAE,CAAC,CAAE,CAAC,CAAC,CAAE,CAC/V,CAAC,ECNKwB,EAAcR,EAAS,CAAC,CAAE,MAAAhB,KAAY,CACxC,KAAM,CAAE,MAAAyB,EAAO,UAAAC,CAAS,EAAK1B,EACvB,CAAE,MAAA2B,CAAK,EAAKN,EAAAA,kBAAkBrB,CAAK,EACnC4B,EAAS,IAAkDH,GAAM,OAAO,CAAC,CAAC,IAAkDA,GAAM,OAAO,CAAC,CAAC,IAAIC,IAAc,MAAQ,eAAiB,EAAE,GACxLG,EAAMC,EAAAA,YAAYF,EAAQ,EAAE,EAE5BG,EAAOJ,EAAQE,EADL,GAEhB,OAAQhB,EAAAA,KAAMC,EAAAA,SAAW,CAAE,SAAU,CAACrB,EAAAA,IAAKH,EAAQ,CAAE,EAAG,EAAG,EAAGyC,EAAM,MAAOF,EAAM,EAAG,OAAQ,EAAE,CAAE,EAAGpC,MAAK,OAAQ,CAAE,EAAG,GAAI,EAAGsC,EAAM,SAAUH,CAAM,CAAE,CAAC,CAAC,CAAE,CAC5J,CAAC,ECPKI,EAAsBhB,EAAS,SAAU,CAAE,MAAAhB,EAAO,YAAAmB,EAAa,UAAAlB,CAAS,EAAK,CAC/E,KAAM,CAAE,QAAAgB,EAAS,UAAAnB,EAAW,6BAAAQ,EAA8B,kBAAAH,EAAmB,MAAAsB,CAAK,EAAMzB,EACxF,OAA0DiB,GAAQ,OAAWJ,EAAAA,KAAMC,EAAAA,SAAW,CAAE,SAAU,CAACrB,EAAAA,IAAKsB,EAAa,CAAE,UAAWd,EAAW,MAAOD,EAAO,UAAWA,EAAM,SAAS,CAAE,EAAGM,GAAgCH,EAAqBV,EAAAA,IAAK+B,EAAa,CAAE,MAAOxB,CAAK,CAAE,EAAMiB,EAAQ,IAAI,CAACgB,EAASpC,IAASJ,EAAAA,IAAK,IAAK,CAAE,UAAW,eAAeK,EAAYD,CAAG,IAAK,SAAUJ,EAAAA,IAAK8B,EAAW,CAAE,MAAOvB,EAAO,YAAamB,CAAW,CAAE,CAAC,EAAI,GAAG,KAAK,UAAUM,CAAK,CAAC,IAAI5B,CAAG,EAAE,CAAE,CAAE,CAAC,CAAE,EAAK,IAClf,CAAC,ECHKqC,EAAUlB,EAAS,SAAU,CAAE,SAAAmB,EAAU,MAAAnC,EAAO,UAAAC,CAAS,EAAK,CAChE,KAAM,CAAE,OAAAmC,CAAM,EAAKpC,EACnB,OAAOC,EAAakC,EAAa1C,EAAAA,IAAK,MAAO,CAAE,MAAO,CAC9C,SAAU,WACV,IAAK,EACL,KAAM,EACN,cAAe,OACf,OAAA2C,EACA,MAAOf,EAAAA,kBAAkBrB,CAAK,EAAE,KAC5C,EAAW,SAAUmC,CAAQ,CAAE,CAC/B,CAAC,EACYE,EAAarB,EAAS,SAAUzB,EAAO,CAChD,KAAM,CAAE,MAAAS,EAAO,YAAAmB,EAAa,UAAAlB,CAAS,EAAKV,EACpC,CAAE,YAAA+C,EAAa,MAAAC,EAAO,wBAAAlC,EAAyB,QAAAY,CAAO,EAAKjB,EACjE,OAAOuC,GAAStB,EAAWxB,EAAAA,IAAKyC,EAAS,CAAE,GAAG3C,EAAO,SAAU+C,EAAejC,EAA2BZ,EAAAA,IAAKyB,EAAoB,CAAE,MAAOlB,EAAO,YAAamB,EAAa,UAAWlB,CAAS,CAAE,EAAMR,EAAAA,IAAKuC,EAAqB,CAAE,MAAOhC,EAAO,YAAamB,EAAa,UAAWlB,CAAS,CAAE,EAAM,IAAI,CAAE,EAAK,IACvT,CAAC","x_google_ignoreList":[0,1,2,3,4,5,6]}