import{W as F,X as S,u as o,Z as y,t as k,s as n}from"./index-DPMJgfAS.js";import{a as x}from"./aborting-leqnA98M.js";function A(t){F(t,S(async()=>{try{const e=o.getContainingView(t);if(!e.initialized||!t.statsReadyAndRegionNotTooLarge)return;const a=y.createStopToken();t.setSimplifiedFeaturesLoading(a);const{rpcManager:r}=o.getSession(t),{lengthCutoffFilter:c,sources:i,minorAlleleFrequencyFilter:p,adapterConfig:u}=t;if(i){const s=k.getRpcSessionId(t),{sampleInfo:d,hasPhased:g,features:m}=await r.call(s,"MultiVariantGetSimplifiedFeatures",{regions:e.dynamicBlocks.contentBlocks,sources:i,minorAlleleFrequencyFilter:p,lengthCutoffFilter:c,sessionId:s,adapterConfig:u,stopToken:a});n(t)&&(t.setHasPhased(g),t.setSampleInfo(d),t.setFeatures(m.map(l=>new o.SimpleFeature(l))))}}catch(e){console.error(e),!x.isAbortException(e)&&n(t)&&o.getSession(t).notifyError(`${e}`,e)}},{delay:1e3}))}export{A as getMultiVariantFeaturesAutorun};
//# sourceMappingURL=getMultiVariantFeaturesAutorun-BozirNU6.js.map
