import{q as n,u as a,s as i,t as C,v as x}from"./index-B3kPj2Rj.js";function w(t){n(t,async()=>{const r=a.getContainingView(t);t.autorunReady&&t.setCurrSortBpPerPx(r.bpPerPx)},{delay:1e3}),n(t,async()=>{const{rpcManager:r}=a.getSession(t),e=a.getContainingView(t);if(!t.autorunReady)return;const{sortedBy:s,adapterConfig:o,rendererType:p,sortReady:y}=t,{bpPerPx:f}=e;if(s&&(!y||t.currSortBpPerPx===e.bpPerPx)){const{pos:c,refName:g,assemblyName:u}=s;await t.rendererType.renderInClient(r,{assemblyName:u,regions:[{start:c,end:c+1,refName:g,assemblyName:u}],adapterConfig:o,rendererType:p.name,sessionId:C.getRpcSessionId(t),layoutId:a.getContainingTrack(t).id,timeout:1e6,statusCallback:P=>{i(t)&&t.setMessage(P)},...t.renderPropsPre()})}i(t)&&(t.setCurrSortBpPerPx(f),t.setSortReady(!0))},{delay:1e3}),n(t,async()=>{if(!t.autorunReady)return;const{adapterConfig:r}=t,{staticBlocks:e}=a.getContainingView(t),s=await x({model:t,adapterConfig:r,blocks:e});i(t)&&(t.updateVisibleModifications(s),t.setModificationsReady(!0))},{delay:1e3})}export{w as doAfterAttach};
//# sourceMappingURL=doAfterAttach-DWm_B8Ny.js.map
