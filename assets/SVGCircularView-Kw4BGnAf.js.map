{"version":3,"file":"SVGCircularView-Kw4BGnAf.js","sources":["../../node_modules/@jbrowse/plugin-circular-view/esm/CircularView/svgcomponents/SVGBackground.js","../../node_modules/@jbrowse/plugin-circular-view/esm/CircularView/svgcomponents/SVGCircularView.js"],"sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { stripAlpha } from '@jbrowse/core/util';\nimport { useTheme } from '@mui/material';\nexport default function SVGBackground({ width, height, shift, }) {\n    const theme = useTheme();\n    return (_jsx(\"rect\", { width: width + shift * 2, height: height, fill: stripAlpha(theme.palette.background.default) }));\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment } from 'react';\nimport { createJBrowseTheme } from '@jbrowse/core/ui';\nimport { getSession, radToDeg, renderToStaticMarkup } from '@jbrowse/core/util';\nimport { ThemeProvider } from '@mui/material';\nimport { when } from 'mobx';\nimport SVGBackground from './SVGBackground';\nimport Ruler from '../components/Ruler';\nexport async function renderToSvg(model, opts) {\n    var _a;\n    await when(() => model.initialized);\n    const { themeName = 'default', Wrapper = ({ children }) => children } = opts;\n    const session = getSession(model);\n    const theme = (_a = session.allThemes) === null || _a === void 0 ? void 0 : _a.call(session)[themeName];\n    const { width, tracks, height } = model;\n    const shift = 50;\n    const displayResults = await Promise.all(tracks.map(async (track) => {\n        const display = track.displays[0];\n        await when(() => (display.ready !== undefined ? display.ready : true));\n        return { track, result: await display.renderSvg({ ...opts, theme }) };\n    }));\n    const { staticSlices, offsetRadians, centerXY } = model;\n    const deg = radToDeg(offsetRadians);\n    return renderToStaticMarkup(_jsx(ThemeProvider, { theme: createJBrowseTheme(theme), children: _jsx(Wrapper, { children: _jsxs(\"svg\", { width: width, height: height, xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", viewBox: [0, 0, width + shift * 2, height].toString(), children: [_jsx(SVGBackground, { width: width, height: height, shift: shift }), _jsxs(\"g\", { transform: `translate(${centerXY}) rotate(${deg})`, children: [staticSlices.map((slice, i) => (_jsx(Ruler, { model: model, slice: slice }, i))), displayResults.map(({ result }, i) => (_jsx(Fragment, { children: result }, i)))] })] }) }) }));\n}\n"],"names":["SVGBackground","width","height","shift","theme","useTheme","_jsx","stripAlpha","renderToSvg","model","opts","_a","when","themeName","Wrapper","children","session","getSession","tracks","displayResults","track","display","staticSlices","offsetRadians","centerXY","deg","radToDeg","renderToStaticMarkup","ThemeProvider","createJBrowseTheme","_jsxs","slice","i","Ruler","result","Fragment"],"mappings":"uHAGe,SAASA,EAAc,CAAE,MAAAC,EAAO,OAAAC,EAAQ,MAAAC,CAAK,EAAK,CAC7D,MAAMC,EAAQC,EAAU,EACxB,OAAQC,EAAAA,IAAK,OAAQ,CAAE,MAAOL,EAAQE,EAAQ,EAAG,OAAQD,EAAQ,KAAMK,EAAAA,WAAWH,EAAM,QAAQ,WAAW,OAAO,EAAG,CACzH,CCEO,eAAeI,EAAYC,EAAOC,EAAM,CAC3C,IAAIC,EACJ,MAAMC,EAAK,IAAMH,EAAM,WAAW,EAClC,KAAM,CAAE,UAAAI,EAAY,UAAW,QAAAC,EAAU,CAAC,CAAE,SAAAC,CAAU,IAAKA,CAAQ,EAAKL,EAClEM,EAAUC,EAAU,WAACR,CAAK,EAC1BL,GAASO,EAAKK,EAAQ,aAAe,MAAQL,IAAO,OAAS,OAASA,EAAG,KAAKK,CAAO,EAAEH,CAAS,EAChG,CAAE,MAAAZ,EAAO,OAAAiB,EAAQ,OAAAhB,CAAQ,EAAGO,EAC5BN,EAAQ,GACRgB,EAAiB,MAAM,QAAQ,IAAID,EAAO,IAAI,MAAOE,GAAU,CACjE,MAAMC,EAAUD,EAAM,SAAS,CAAC,EAChC,aAAMR,EAAK,IAAOS,EAAQ,QAAU,OAAYA,EAAQ,MAAQ,EAAK,EAC9D,CAAE,MAAAD,EAAO,OAAQ,MAAMC,EAAQ,UAAU,CAAE,GAAGX,EAAM,MAAAN,CAAK,CAAE,CAAG,CAC7E,CAAK,CAAC,EACI,CAAE,aAAAkB,EAAc,cAAAC,EAAe,SAAAC,CAAU,EAAGf,EAC5CgB,EAAMC,EAAQ,SAACH,CAAa,EAClC,OAAOI,EAAoB,qBAACrB,EAAI,IAACsB,EAAe,CAAE,MAAOC,qBAAmBzB,CAAK,EAAG,SAAUE,EAAI,IAACQ,EAAS,CAAE,SAAUgB,OAAM,MAAO,CAAE,MAAO7B,EAAO,OAAQC,EAAQ,MAAO,6BAA8B,WAAY,+BAAgC,QAAS,CAAC,EAAG,EAAGD,EAAQE,EAAQ,EAAGD,CAAM,EAAE,SAAQ,EAAI,SAAU,CAACI,EAAAA,IAAKN,EAAe,CAAE,MAAOC,EAAO,OAAQC,EAAQ,MAAOC,CAAO,CAAA,EAAG2B,EAAAA,KAAM,IAAK,CAAE,UAAW,aAAaN,CAAQ,YAAYC,CAAG,IAAK,SAAU,CAACH,EAAa,IAAI,CAACS,EAAOC,IAAO1B,EAAAA,IAAK2B,EAAO,CAAE,MAAOxB,EAAO,MAAOsB,CAAO,EAAEC,CAAC,CAAE,EAAGb,EAAe,IAAI,CAAC,CAAE,OAAAe,CAAQ,EAAEF,IAAO1B,EAAAA,IAAK6B,EAAQ,SAAE,CAAE,SAAUD,CAAM,EAAIF,CAAC,CAAE,CAAC,CAAG,CAAA,CAAC,CAAG,CAAA,EAAG,CAAC,CAAE,CAAC,CAC7nB","x_google_ignoreList":[0,1]}