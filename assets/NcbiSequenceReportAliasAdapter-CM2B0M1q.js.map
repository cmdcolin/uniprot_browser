{"version":3,"file":"NcbiSequenceReportAliasAdapter-CM2B0M1q.js","sources":["../../node_modules/@jbrowse/plugin-config/esm/NcbiSequenceReportAliasAdapter/NcbiSequenceReportAliasAdapter.js"],"sourcesContent":["import { BaseAdapter } from '@jbrowse/core/data_adapters/BaseAdapter';\nimport { openLocation } from '@jbrowse/core/util/io';\nexport default class NcbiSequenceReportAliasAdapter extends BaseAdapter {\n    async getRefNameAliases() {\n        const loc = this.getConf('location');\n        if (loc.uri === '' || loc.uri === '/path/to/my/sequence_report.tsv') {\n            return [];\n        }\n        const override = this.getConf('useNameOverride');\n        const results = await openLocation(loc, this.pluginManager).readFile('utf8');\n        const lines = results\n            .split(/\\n|\\r\\n|\\r/)\n            .filter(f => !!f.trim())\n            .map(row => row.split('\\t'));\n        const r = lines[0] || [];\n        const genBankIdx = r.indexOf('GenBank seq accession');\n        const refSeqIdx = r.indexOf('RefSeq seq accession');\n        const ucscIdx = r.indexOf('UCSC style name');\n        const seqNameIdx = r.indexOf('Sequence name');\n        if (genBankIdx === -1 || refSeqIdx === -1 || ucscIdx === -1) {\n            throw new Error('Header line must include \"GenBank seq accession\", \"RefSeq seq accession\", \"UCSC style name\", and \"Sequence name\"');\n        }\n        return lines\n            .slice(1)\n            .filter(cols => !!cols[ucscIdx] || !!cols[seqNameIdx])\n            .map(cols => ({\n            refName: (cols[ucscIdx] || cols[seqNameIdx]),\n            aliases: [\n                cols[genBankIdx],\n                cols[refSeqIdx],\n                cols[ucscIdx],\n                cols[seqNameIdx],\n            ].filter((f) => !!f),\n            override,\n        }))\n            .filter(f => !!f.refName);\n    }\n}\n"],"names":["NcbiSequenceReportAliasAdapter","BaseAdapter","loc","override","lines","openLocation","f","row","r","genBankIdx","refSeqIdx","ucscIdx","seqNameIdx","cols"],"mappings":"iFAEe,MAAMA,UAAuCC,EAAAA,WAAY,CACpE,MAAM,mBAAoB,CACtB,MAAMC,EAAM,KAAK,QAAQ,UAAU,EACnC,GAAIA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,kCAC9B,MAAO,CAAA,EAEX,MAAMC,EAAW,KAAK,QAAQ,iBAAiB,EAEzCC,GADU,MAAMC,EAAAA,aAAaH,EAAK,KAAK,aAAa,EAAE,SAAS,MAAM,GAEtE,MAAM,YAAY,EAClB,OAAOI,GAAK,CAAC,CAACA,EAAE,KAAI,CAAE,EACtB,IAAIC,GAAOA,EAAI,MAAM,GAAI,CAAC,EACzBC,EAAIJ,EAAM,CAAC,GAAK,CAAA,EAChBK,EAAaD,EAAE,QAAQ,uBAAuB,EAC9CE,EAAYF,EAAE,QAAQ,sBAAsB,EAC5CG,EAAUH,EAAE,QAAQ,iBAAiB,EACrCI,EAAaJ,EAAE,QAAQ,eAAe,EAC5C,GAAIC,IAAe,IAAMC,IAAc,IAAMC,IAAY,GACrD,MAAM,IAAI,MAAM,kHAAkH,EAEtI,OAAOP,EACF,MAAM,CAAC,EACP,OAAOS,GAAQ,CAAC,CAACA,EAAKF,CAAO,GAAK,CAAC,CAACE,EAAKD,CAAU,CAAC,EACpD,IAAIC,IAAS,CACd,QAAUA,EAAKF,CAAO,GAAKE,EAAKD,CAAU,EAC1C,QAAS,CACLC,EAAKJ,CAAU,EACfI,EAAKH,CAAS,EACdG,EAAKF,CAAO,EACZE,EAAKD,CAAU,CAC/B,EAAc,OAAQ,GAAM,CAAC,CAAC,CAAC,EACnB,SAAAT,CACZ,EAAU,EACG,OAAOG,GAAK,CAAC,CAACA,EAAE,OAAO,CAChC,CACJ","x_google_ignoreList":[0]}