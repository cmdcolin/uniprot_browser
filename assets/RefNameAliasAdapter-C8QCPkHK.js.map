{"version":3,"file":"RefNameAliasAdapter-C8QCPkHK.js","sources":["../../node_modules/@jbrowse/plugin-config/esm/RefNameAliasAdapter/RefNameAliasAdapter.js"],"sourcesContent":["import { BaseAdapter } from '@jbrowse/core/data_adapters/BaseAdapter';\nimport { openLocation } from '@jbrowse/core/util/io';\nexport default class RefNameAliasAdapter extends BaseAdapter {\n    async getRefNameAliases() {\n        const loc = this.getConf('location');\n        if (loc.uri === '' || loc.uri === '/path/to/my/aliases.txt') {\n            return [];\n        }\n        const results = await openLocation(loc, this.pluginManager).readFile('utf8');\n        const refColumn = this.getConf('refNameColumn');\n        const refColumnHeaderName = this.getConf('refNameColumnHeaderName');\n        const lines = results\n            .trim()\n            .split(/\\n|\\r\\n|\\r/)\n            .filter(f => !!f);\n        const header = lines.filter(f => f.startsWith('#'));\n        const headerCol = refColumnHeaderName && header.length\n            ? header\n                .at(-1)\n                .slice(1)\n                .split('\\t')\n                .map(t => t.trim())\n                .indexOf(refColumnHeaderName)\n            : refColumn;\n        return lines\n            .filter(f => !f.startsWith('#'))\n            .map(row => {\n            const aliases = row.split('\\t');\n            const refName = aliases[headerCol];\n            return {\n                refName: refName,\n                aliases: aliases.filter(f => !!f.trim()),\n            };\n        });\n    }\n}\n"],"names":["RefNameAliasAdapter","BaseAdapter","loc","results","openLocation","refColumn","refColumnHeaderName","lines","f","header","headerCol","t","row","aliases"],"mappings":"iFAEe,MAAMA,UAA4BC,EAAAA,WAAY,CACzD,MAAM,mBAAoB,CACtB,MAAMC,EAAM,KAAK,QAAQ,UAAU,EACnC,GAAIA,EAAI,MAAQ,IAAMA,EAAI,MAAQ,0BAC9B,MAAO,CAAA,EAEX,MAAMC,EAAU,MAAMC,EAAAA,aAAaF,EAAK,KAAK,aAAa,EAAE,SAAS,MAAM,EACrEG,EAAY,KAAK,QAAQ,eAAe,EACxCC,EAAsB,KAAK,QAAQ,yBAAyB,EAC5DC,EAAQJ,EACT,KAAI,EACJ,MAAM,YAAY,EAClB,OAAOK,GAAK,CAAC,CAACA,CAAC,EACdC,EAASF,EAAM,OAAOC,GAAKA,EAAE,WAAW,GAAG,CAAC,EAC5CE,EAAYJ,GAAuBG,EAAO,OAC1CA,EACG,GAAG,EAAE,EACL,MAAM,CAAC,EACP,MAAM,GAAI,EACV,IAAIE,GAAKA,EAAE,KAAI,CAAE,EACjB,QAAQL,CAAmB,EAC9BD,EACN,OAAOE,EACF,OAAOC,GAAK,CAACA,EAAE,WAAW,GAAG,CAAC,EAC9B,IAAII,GAAO,CACZ,MAAMC,EAAUD,EAAI,MAAM,GAAI,EAE9B,MAAO,CACH,QAFYC,EAAQH,CAAS,EAG7B,QAASG,EAAQ,OAAOL,GAAK,CAAC,CAACA,EAAE,MAAM,CACvD,CACQ,CAAC,CACL,CACJ","x_google_ignoreList":[0]}