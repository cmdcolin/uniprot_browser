{"version":3,"mappings":"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","names":["Formatter","value","show","setShow","useState","copied","setCopied","display","_jsxs","_Fragment","_jsx","copy","val","LaunchSyntenyViewDialog","lazy","__vitePreload","LinkToSyntenyView","observer","model","feat","view","level","trackId","Link","event","_a","_b","views","f1","f2","r1","r2","v1","v2","getSession","assembleLocString","feature","SimpleFeature","session","handleClose","SyntenyFeatureDetail","props","featureData","Paper","FeatureDetails","BaseCard"],"ignoreList":[0,1,2],"sources":["../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/SyntenyFeatureDetail/Formatter.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/SyntenyFeatureDetail/LinkToSyntenyView.js","../../node_modules/@jbrowse/plugin-linear-comparative-view/esm/SyntenyFeatureDetail/SyntenyFeatureDetail.js"],"sourcesContent":["import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport copy from 'copy-to-clipboard';\nexport default function Formatter({ value }) {\n    const [show, setShow] = useState(false);\n    const [copied, setCopied] = useState(false);\n    const display = String(value);\n    return display.length > 100 ? (_jsxs(_Fragment, { children: [_jsx(\"button\", { type: \"button\", onClick: () => {\n                    copy(display);\n                    setCopied(true);\n                    setTimeout(() => {\n                        setCopied(false);\n                    }, 700);\n                }, children: copied ? 'Copied to clipboard' : 'Copy' }), _jsx(\"button\", { type: \"button\", onClick: () => {\n                    setShow(val => !val);\n                }, children: show ? 'Show less' : 'Show more' }), _jsx(\"div\", { children: show ? display : `${display.slice(0, 100)}...` })] })) : (_jsx(\"div\", { children: display }));\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { lazy } from 'react';\nimport { SimpleFeature, assembleLocString, getSession, } from '@jbrowse/core/util';\nimport { Link } from '@mui/material';\nimport { observer } from 'mobx-react';\nconst LaunchSyntenyViewDialog = lazy(() => import('../LGVSyntenyDisplay/components/LaunchSyntenyViewDialog'));\nconst LinkToSyntenyView = observer(function ({ model, feat, }) {\n    const { view, level, trackId } = model;\n    return (_jsxs(\"ul\", { children: [view.type === 'LinearSyntenyView' ? (_jsx(\"li\", { children: _jsx(Link, { href: \"#\", onClick: event => {\n                        var _a, _b;\n                        event.preventDefault();\n                        const { views } = view;\n                        if (level !== undefined) {\n                            (_a = views[level]) === null || _a === void 0 ? void 0 : _a.navTo(feat);\n                            (_b = views[level + 1]) === null || _b === void 0 ? void 0 : _b.navTo(feat.mate);\n                        }\n                        else {\n                            const f1 = feat;\n                            const f2 = feat.mate;\n                            const r1 = f1.assemblyName;\n                            const r2 = f2.assemblyName;\n                            const v1 = views.find(view => view.assemblyNames[0] === r1);\n                            const v2 = views.find(view => view.assemblyNames[0] === r2);\n                            if (!v1 || !v2) {\n                                getSession(model).notify([\n                                    v1\n                                        ? `Unable to find ${assembleLocString(f1)} in synteny view`\n                                        : '',\n                                    v2\n                                        ? `Unable to find ${assembleLocString(f2)} in synteny view`\n                                        : '',\n                                ].join(' ... '));\n                            }\n                            v1 === null || v1 === void 0 ? void 0 : v1.navTo(f1);\n                            v2 === null || v2 === void 0 ? void 0 : v2.navTo(f2);\n                        }\n                    }, children: \"Center view on this feature\" }) })) : null, _jsx(\"li\", { children: _jsx(Link, { href: \"#\", onClick: event => {\n                        event.preventDefault();\n                        const feature = new SimpleFeature(feat);\n                        const session = getSession(model);\n                        session.queueDialog(handleClose => [\n                            LaunchSyntenyViewDialog,\n                            {\n                                session,\n                                feature,\n                                trackId,\n                                handleClose,\n                            },\n                        ]);\n                    }, children: \"Launch new linear synteny view on this feature\" }) })] }));\n});\nexport default LinkToSyntenyView;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport BaseCard from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/BaseCard';\nimport FeatureDetails from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/FeatureDetails';\nimport { Paper } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport Formatter from './Formatter';\nimport LinkToSyntenyView from './LinkToSyntenyView';\nconst SyntenyFeatureDetail = observer(function (props) {\n    const { model } = props;\n    const { featureData } = model;\n    const feat = structuredClone(featureData);\n    return feat ? (_jsxs(Paper, { children: [_jsx(FeatureDetails, { ...props, feature: feat, formatter: value => _jsx(Formatter, { value: value }) }), _jsx(BaseCard, { title: \"Link to view\", children: _jsx(LinkToSyntenyView, { model: model, feat: feat }) })] })) : (_jsx(\"div\", { children: \"No feature loaded, may not be available after page refresh because it was too large for localStorage\" }));\n});\nexport default SyntenyFeatureDetail;\n"],"file":"assets/SyntenyFeatureDetail-3jY-GUUj.js"}